


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fr-FR" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr-FR" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Guide de migration Qiskit Aqua &mdash; Documentation Qiskit 0.30.1</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="../_static/jupyter-sphinx.css" type="text/css" />
  <link rel="stylesheet" href="../_static/thebelab.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme-override.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
  <link rel="stylesheet" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
  <link rel="stylesheet" href="../_static/panels-variables.ade9f9d55df9d2893fc676ecd59723a1.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Rechercher" href="../search.html" />
    <link rel="prev" title="Tutoriels de migration Qiskit Aqua" href="index.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://qiskit.org/" aria-label="PyTorch"></a>

      <div class="main-menu">
        <ul>
          <li>
            <a href="../getting_started.html">Getting started</a>
          </li>

          <li>
            <a href="../tutorials.html">Tutorials</a>
          </li>

          <li>
            <a href="https://qiskit.org/documentation/partners/" target="_blank">Partners</a>
          </li>

          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="resource-option with-down-orange-arrow">
                Applications
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://qiskit.org/documentation/machine-learning/">
                  <span class="dropdown-title">Machine learning</span>
                  <p>QSVM, VQC (Variational Quantum Classifier), and QGAN (Quantum Generative
                    Adversarial Network) algorithms.</p>
                </a>
                <a class="nav-dropdown-item" href="https://qiskit.org/documentation/nature/">
                  <span class="dropdown-title">Nature</span>
                  <p>Quantum applications in chemistry, physics, and biology.</p>
                </a>
                <a class="nav-dropdown-item" href="https://qiskit.org/documentation/finance/">
                  <span class="dropdown-title">Finance</span>
                  <p>Uncertainty components for stock/securities problems, Ising translators for
                    portfolio optimizations and data providers to source real or random data.</p>
                </a>
                <a class="nav-dropdown-item" href="https://qiskit.org/documentation/optimization/">
                  <span class="dropdown-title">Optimization</span>
                  <p>High-level optimization problems that are ready to
                    run on simulators and real quantum devices</p>
                </a>
              </div>
          </li>
          <li>
              <a href=="https://qiskit.org/documentation/experiments/" target="_blank">Experiments</a>
          </li>
          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="resource-option with-down-orange-arrow">
                Resources
              </a>
              <div class="resources-dropdown-menu">
                <a class="doc-dropdown-option nav-dropdown-item" href="https://qiskit.slack.com">
                  <span class="dropdown-title">Slack support</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://qiskit.org/textbook">
                  <span class="dropdown-title">Qiskit Textbook</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://qiskit.org/events">
                  <span class="dropdown-title">Qiskit events</span>
                  <p></p>
                </a>
            </div>
          </li>
          <li>
            <a href="https://github.com/Qiskit/" target="_blank">Github</a>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>

  </div>
</div>


<body class="pytorch-body">

   

    

    <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="rst-current-version-label">French</span>
    <span class="rst-versions-dropdown-icon"></span>
  </span>
  <div class="rst-other-versions">
    
    <dl>
      <dt>Langues</dt>
      
        <dd><a class="version" href="/documentation/aqua_tutorials/Qiskit Algorithms Migration Guide.html">English</a></dd>
      
        <dd><a class="version" href="/documentation/locale/ja_JP/aqua_tutorials/Qiskit Algorithms Migration Guide.html">Japanese</a></dd>
      
        <dd><a class="version" href="/documentation/locale/de_DE/aqua_tutorials/Qiskit Algorithms Migration Guide.html">German</a></dd>
      
        <dd><a class="version" href="/documentation/locale/ko_KR/aqua_tutorials/Qiskit Algorithms Migration Guide.html">Korean</a></dd>
      
        <dd><a class="version" href="/documentation/locale/pt_BR/aqua_tutorials/Qiskit Algorithms Migration Guide.html">Portuguese, Brazilian</a></dd>
      
        <dd><a class="version" href="/documentation/locale/fr_FR/aqua_tutorials/Qiskit Algorithms Migration Guide.html">French</a></dd>
      
        <dd><a class="version" href="/documentation/locale/ta_IN/aqua_tutorials/Qiskit Algorithms Migration Guide.html">Tamil</a></dd>
      
    </dl>
    
    <dl>
      <dt>Previous Releases</dt>
      
        <dd><a class="version" href="/documentation/stable/0.19/index.html">0.19</a></dd>
      
        <dd><a class="version" href="/documentation/stable/0.24/index.html">0.24</a></dd>
      
        <dd><a class="version" href="/documentation/stable/0.25/index.html">0.25</a></dd>
      
        <dd><a class="version" href="/documentation/stable/0.26/index.html">0.26</a></dd>
      
        <dd><a class="version" href="/documentation/stable/0.27/index.html">0.27</a></dd>
      
        <dd><a class="version" href="/documentation/stable/0.28/index.html">0.28</a></dd>
      
        <dd><a class="version" href="/documentation/stable/0.29/index.html">0.29</a></dd>
      
    </dl>
  </div>
  <script>
    jQuery('.version').click((evt) => {
      const hash = window.location.hash
      const complete_url = evt.target.href + hash
      window.location = complete_url
      evt.preventDefault()
    })
  </script>
</div>

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            

            
              
              
            

            


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

            
          </div>

          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Documentation Homepage</a></li>
</ul>
<p><span class="caption-text">Avant propos</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../qc_intro.html">L’informatique quantique en bref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro_tutorial1.html">Introduction à Qiskit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing_to_qiskit.html">Contribuer à Qiskit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration locale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Foire aux Questions</a></li>
</ul>
<p><span class="caption-text">Bibliothèques</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/circuit_library.html">Bibliothèque de circuits</a></li>
</ul>
<p><span class="caption-text">Références de l'API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/terra.html">Qiskit Terra</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/aer.html">Qiskit Aer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/ignis.html">Qiskit Ignis (deprecated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/aqua.html">Qiskit Aqua (deprecated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/ibmq-provider.html">Qiskit IBM Quantum Provider</a></li>
</ul>
<p><span class="caption-text">Qiskit Aqua Migration Guide</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../aqua_migration.html">Qiskit Aqua Migration Guide</a></li>
</ul>
<p><span class="caption-text">Déboggage</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://quantum-computing.ibm.com/lab/docs/iql/manage/errors">Codes d'erreur de l'API IBM Quantum</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="../index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
          <li><a href="../aqua_migration.html">Guide de migration Qiskit Aqua</a> &gt;</li>
        
          <li><a href="index.html">Tutoriels de migration Qiskit Aqua</a> &gt;</li>
        
      <li>Guide de migration Qiskit Aqua</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="../_sources/aqua_tutorials/Qiskit Algorithms Migration Guide.ipynb" rel="nofollow"><img src="../_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">
          
          <div class="rst-content style-external-links">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
              
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cette page a été générée à partir de <a class="reference external" href="https://github.com/Qiskit/qiskit-tutorials/blob/master/aqua_tutorials/QiskitAlgorithmsMigrationGuide.ipynb">aqua_tutorials/Qiskit Algorithms Migration Guide.ipynb</a>.</p>
</div>
<section id="Guide-de-migration-Qiskit-Aqua">
<h1>Guide de migration Qiskit Aqua<a class="headerlink" href="#Guide-de-migration-Qiskit-Aqua" title="Lien permanent vers ce titre">¶</a></h1>
<p><strong>Restructuration des applications</strong></p>
<p>La version 0.25.0 de Qiskit comprend une restructuration des applications et des algorithmes. Ce qui a déjà été désigné sous le nom de Qiskit Aqua, le module d’applications et d’algorithmes unique de Qiskit, est maintenant divisé en modules d’applications dédiés à l’Optimisation, les Finances, l’Apprentissage Automatique et la Nature (comprenant la physique et la chimie). Les algorithmes de base et la fonctionnalité de l’opérateur opflow sont déplacés vers Qiskit Terra.</p>
<p><strong>Interfaces algorithmiques</strong></p>
<p>En plus de la restructuration, tous les algorithmes suivent un nouveau paradigme unifié : les algorithmes sont classés en fonction des problèmes qu’ils résolvent, et au sein d’une même classe d’applications, les algorithmes peuvent être utilisés de manière interchangeable pour résoudre le même problème. Cela signifie que, contrairement à avant, les instances d’algorithme sont découplées du problème qu’elles résolvent. Nous pouvons résumer ceci dans un diagramme:</p>
<p><img alt="Drawing" src="../_images/algorithmflow.png" /></p>
<p>Par exemple, l’eigensolver quantique variationnel, <code class="docutils literal notranslate"><span class="pre">VQE</span></code> est un <code class="docutils literal notranslate"><span class="pre">MinimumEigensolver</span></code> car il calcule la valeur propre minimale d’un opérateur. Le problème ici est spécifié avec l’opérateur, dont nous recherchons la valeur propre, alors que les propriétés telles que le circuit variationnel ansatz et l’optimiseur classique sont des propriétés de l’algorithme. Cela signifie que le <code class="docutils literal notranslate"><span class="pre">VQE</span></code> a la structure suivante</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vqe</span> <span class="o">=</span> <span class="n">VQE</span><span class="p">(</span><span class="n">ansatz</span><span class="p">,</span> <span class="n">optimizer</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">vqe</span><span class="o">.</span><span class="n">compute_minimum_eigenvalue</span><span class="p">(</span><span class="n">operator</span><span class="p">)</span>
</pre></div>
</div>
<p>Nous pouvons échanger le <code class="docutils literal notranslate"><span class="pre">VQE</span></code> avec tout autre algorithme qui implémente l’interface <code class="docutils literal notranslate"><span class="pre">MinimumEigensolver</span></code> pour calculer les valeurs propres de votre opérateur, par exemple.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>numpy_based = NumPyMinimumEigensolver()
classical_reference = numpy_based.compute_minimum_eigenvalue(operator)
</pre></div>
</div>
<p>Cela vous permet de basculer facilement entre différents algorithmes, de vérifier les références classiques et de fournir votre propre implémentation :math:<a href="#id1"><span class="problematic" id="id2">`</span></a>- » vous n’avez qu’à implémenter l’interface existante.</p>
<p>Ce bloc-notes sert de guide de migration pour faciliter la modification de votre code actuel en utilisant Qiskit Aqua dans la nouvelle structure.</p>
<p>Nous désactivons l’avertissement d’obsolescence pour ce bloc-notes pour que vous ne le voyiez pas quand nous instancions un objet de <code class="docutils literal notranslate"><span class="pre">qiskit.aqua</span></code>. Notez cependant que le paquet entier est obsolète et émettera un avertissement comme suit :</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.components.optimizers</span> <span class="kn">import</span> <span class="n">COBYLA</span>

<span class="n">optimizer</span> <span class="o">=</span> <span class="n">COBYLA</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
/Users/manoel/projects/Quantum/qiskit-aqua/qiskit/aqua/__init__.py:86: DeprecationWarning: The package qiskit.aqua is deprecated. It was moved/refactored to qiskit-terra For more information see &lt;https://github.com/Qiskit/qiskit-aqua/blob/main/README.md#migration-guide&gt;
  warn_package(&#39;aqua&#39;, &#39;qiskit-terra&#39;)
/Users/manoel/projects/Quantum/qiskit-aqua/qiskit/aqua/components/optimizers/optimizer.py:49: DeprecationWarning: The package qiskit.aqua.components.optimizers is deprecated. It was moved/refactored to qiskit.algorithms.optimizers (pip install qiskit-terra). For more information see &lt;https://github.com/Qiskit/qiskit-aqua/blob/main/README.md#migration-guide&gt;
  warn_package(&#39;aqua.components.optimizers&#39;,
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">,</span> <span class="ne">DeprecationWarning</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="QuantumInstance">
<h1>QuantumInstance<a class="headerlink" href="#QuantumInstance" title="Lien permanent vers ce titre">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">QuantumInstance</span></code> a déplacé l’emplacement d’importation à partir de</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qiskit.aqua.QuantumInstance
</pre></div>
</div>
<p>vers</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qiskit.utils.QuantumInstance
</pre></div>
</div>
<p><strong>Précédemment :</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit</span> <span class="kn">import</span> <span class="n">Aer</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua</span> <span class="kn">import</span> <span class="n">QuantumInstance</span> <span class="k">as</span> <span class="n">AquaQuantumInstance</span>

<span class="n">backend</span> <span class="o">=</span> <span class="n">Aer</span><span class="o">.</span><span class="n">get_backend</span><span class="p">(</span><span class="s1">&#39;statevector_simulator&#39;</span><span class="p">)</span>
<span class="n">aqua_qinstance</span> <span class="o">=</span> <span class="n">AquaQuantumInstance</span><span class="p">(</span><span class="n">backend</span><span class="p">,</span> <span class="n">seed_simulator</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">seed_transpiler</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Maintenant.</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit</span> <span class="kn">import</span> <span class="n">Aer</span>
<span class="kn">from</span> <span class="nn">qiskit.utils</span> <span class="kn">import</span> <span class="n">QuantumInstance</span>

<span class="n">backend</span> <span class="o">=</span> <span class="n">Aer</span><span class="o">.</span><span class="n">get_backend</span><span class="p">(</span><span class="s1">&#39;statevector_simulator&#39;</span><span class="p">)</span>
<span class="n">qinstance</span> <span class="o">=</span> <span class="n">QuantumInstance</span><span class="p">(</span><span class="n">backend</span><span class="p">,</span> <span class="n">seed_simulator</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">seed_transpiler</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Opérateurs">
<h1>Opérateurs<a class="headerlink" href="#Opérateurs" title="Lien permanent vers ce titre">¶</a></h1>
<p>Les opérateurs Opflow sont passés de</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qiskit.aqua.operators
</pre></div>
</div>
<p>vers</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qiskit.opflow
</pre></div>
</div>
<p><strong>Précédemment :</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.operators</span> <span class="kn">import</span> <span class="n">X</span><span class="p">,</span> <span class="n">I</span><span class="p">,</span> <span class="n">Y</span>

<span class="n">op</span> <span class="o">=</span> <span class="p">(</span><span class="n">X</span> <span class="o">^</span> <span class="n">I</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">Y</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Maintenant.</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.opflow</span> <span class="kn">import</span> <span class="n">X</span><span class="p">,</span> <span class="n">I</span><span class="p">,</span> <span class="n">Y</span>

<span class="n">op</span> <span class="o">=</span> <span class="p">(</span><span class="n">X</span> <span class="o">^</span> <span class="n">I</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">Y</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Fonctionnalités supplémentaires.</strong></p>
<p>Avec <code class="docutils literal notranslate"><span class="pre">qiskit.opflow</span></code> nous introduisons une nouvelle représentation plus efficace des sommes de chaines de Pauli, ce qui peut considérablement accélérer les calculs sur des sommes très importantes de Paulis. Cette représentation efficace est automatiquement utilisée si les chaînes de Pauli sont additionnées:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">op</span> <span class="o">=</span> <span class="p">(</span><span class="n">X</span> <span class="o">^</span> <span class="n">X</span> <span class="o">^</span> <span class="n">Y</span> <span class="o">^</span> <span class="n">Y</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">X</span> <span class="o">^</span> <span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">Y</span> <span class="o">^</span> <span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">I</span> <span class="o">^</span> <span class="n">X</span> <span class="o">^</span> <span class="n">I</span> <span class="o">^</span> <span class="n">I</span><span class="p">)</span>
<span class="nb">type</span><span class="p">(</span><span class="n">op</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
qiskit.opflow.primitive_ops.pauli_sum_op.PauliSumOp
</pre></div></div>
</div>
</section>
<section id="Optimiseurs">
<h1>Optimiseurs<a class="headerlink" href="#Optimiseurs" title="Lien permanent vers ce titre">¶</a></h1>
<p>Les routines d’optimisation classiques ont changé d’emplacement de</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qiskit.aqua.components.optimizers
</pre></div>
</div>
<p>vers</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>qiskit.algorithms.optimizers
</pre></div>
</div>
<p><strong>Précédemment :</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.components.optimizers</span> <span class="kn">import</span> <span class="n">SPSA</span>

<span class="n">spsa</span> <span class="o">=</span> <span class="n">SPSA</span><span class="p">(</span><span class="n">maxiter</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p><strong>Maintenant.</strong></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.algorithms.optimizers</span> <span class="kn">import</span> <span class="n">SPSA</span>

<span class="n">spsa</span> <span class="o">=</span> <span class="n">SPSA</span><span class="p">(</span><span class="n">maxiter</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Grover">
<h1>Grover<a class="headerlink" href="#Grover" title="Lien permanent vers ce titre">¶</a></h1>
<section id="En-résumé">
<h2>En résumé<a class="headerlink" href="#En-résumé" title="Lien permanent vers ce titre">¶</a></h2>
<p>La structure précédente</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">grover</span> <span class="o">=</span> <span class="n">Grover</span><span class="p">(</span><span class="n">oracle_settings</span><span class="p">,</span> <span class="n">algorithm_settings</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">grover</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>est modifié pour séparer les paramètres du problème/oracle et les paramètres de l’algorithme, à</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">grover</span> <span class="o">=</span> <span class="n">Grover</span><span class="p">(</span><span class="n">algorithm_settings</span><span class="p">)</span>
<span class="n">problem</span> <span class="o">=</span> <span class="n">AmplificationProblem</span><span class="p">(</span><span class="n">oracle_settings</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">grover</span><span class="o">.</span><span class="n">amplify</span><span class="p">(</span><span class="n">problem</span><span class="p">)</span>
</pre></div>
</div>
<!-- See the documentation of the [deprecated Grover](https://qiskit.org/documentation/stubs/qiskit.aqua.algorithms.Grover.html#qiskit.aqua.algorithms.Grover) and [new Grover](#). --></section>
<section id="Guide-de-migration">
<h2>Guide de migration<a class="headerlink" href="#Guide-de-migration" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour les oracles fournis comme circuits et une fonction <code class="docutils literal notranslate"><span class="pre">is_good_state</span></code> pour déterminer les bons états</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.circuit</span> <span class="kn">import</span> <span class="n">QuantumCircuit</span>

<span class="n">oracle</span> <span class="o">=</span> <span class="n">QuantumCircuit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">oracle</span><span class="o">.</span><span class="n">cz</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">is_good_state</span><span class="p">(</span><span class="n">bitstr</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="n">bitstr</span><span class="p">))</span> <span class="o">==</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<p><strong>Précédemment :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.algorithms</span> <span class="kn">import</span> <span class="n">Grover</span>

<span class="n">grover</span> <span class="o">=</span> <span class="n">Grover</span><span class="p">(</span><span class="n">oracle</span><span class="p">,</span> <span class="n">is_good_state</span><span class="p">,</span> <span class="n">quantum_instance</span><span class="o">=</span><span class="n">aqua_qinstance</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">grover</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Top measurement:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">top_measurement</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Top measurement: 11
</pre></div></div>
</div>
<p><strong>Maintenant.</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.algorithms</span> <span class="kn">import</span> <span class="n">Grover</span><span class="p">,</span> <span class="n">AmplificationProblem</span>

<span class="n">problem</span> <span class="o">=</span> <span class="n">AmplificationProblem</span><span class="p">(</span><span class="n">oracle</span><span class="o">=</span><span class="n">oracle</span><span class="p">,</span> <span class="n">is_good_state</span><span class="o">=</span><span class="n">is_good_state</span><span class="p">)</span>
<span class="n">grover</span> <span class="o">=</span> <span class="n">Grover</span><span class="p">(</span><span class="n">quantum_instance</span><span class="o">=</span><span class="n">qinstance</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">grover</span><span class="o">.</span><span class="n">amplify</span><span class="p">(</span><span class="n">problem</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Top measurement:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">top_measurement</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Top measurement: 11
</pre></div></div>
</div>
<p>Puisque nous rationalisons tous les algorithmes pour utiliser la classe <code class="docutils literal notranslate"><span class="pre">QuantumCircuit</span></code> comme primitive, la définition des oracles à l’aide de la classe <code class="docutils literal notranslate"><span class="pre">qiskit.aqua.compontents.Oracle</span></code> est obsolète. Au lieu d’utiliser, par exemple, la <code class="docutils literal notranslate"><span class="pre">LogicalExpressionOracle</span></code> vous pouvez maintenant utiliser le circuit <code class="docutils literal notranslate"><span class="pre">PhaseOracle</span></code> de la bibliothèque de circuits.</p>
<p><strong>Précédemment :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.components.oracles</span> <span class="kn">import</span> <span class="n">LogicalExpressionOracle</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.algorithms</span> <span class="kn">import</span> <span class="n">Grover</span>

<span class="n">oracle</span> <span class="o">=</span> <span class="n">LogicalExpressionOracle</span><span class="p">(</span><span class="s1">&#39;x &amp; ~y&#39;</span><span class="p">)</span>
<span class="n">grover</span> <span class="o">=</span> <span class="n">Grover</span><span class="p">(</span><span class="n">oracle</span><span class="p">,</span> <span class="n">quantum_instance</span><span class="o">=</span><span class="n">aqua_qinstance</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">grover</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Top measurement:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">top_measurement</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Top measurement: 01
</pre></div></div>
</div>
<p><strong>Maintenant.</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.circuit.library</span> <span class="kn">import</span> <span class="n">PhaseOracle</span>
<span class="kn">from</span> <span class="nn">qiskit.algorithms</span> <span class="kn">import</span> <span class="n">Grover</span><span class="p">,</span> <span class="n">AmplificationProblem</span>

<span class="n">oracle</span> <span class="o">=</span> <span class="n">PhaseOracle</span><span class="p">(</span><span class="s1">&#39;x &amp; ~y&#39;</span><span class="p">)</span>
<span class="n">problem</span> <span class="o">=</span> <span class="n">AmplificationProblem</span><span class="p">(</span><span class="n">oracle</span><span class="o">=</span><span class="n">oracle</span><span class="p">,</span> <span class="n">is_good_state</span><span class="o">=</span><span class="n">oracle</span><span class="o">.</span><span class="n">evaluate_bitstring</span><span class="p">)</span>
<span class="n">grover</span> <span class="o">=</span> <span class="n">Grover</span><span class="p">(</span><span class="n">quantum_instance</span><span class="o">=</span><span class="n">qinstance</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">grover</span><span class="o">.</span><span class="n">amplify</span><span class="p">(</span><span class="n">problem</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Top measurement:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">top_measurement</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Top measurement: 01
</pre></div></div>
</div>
<p>Le <code class="docutils literal notranslate"><span class="pre">qiskit.aqua.components.oracles.TruthTableOracle</span></code> n’est pas encore re-implémenté, mais il peut être facilement réalisé avec le module <code class="docutils literal notranslate"><span class="pre">qiskit.circuit.classicalfunction</span></code>, voir pour cela les tutoriels sur l’algorithme de Grover.</p>
</section>
<section id="Autres-exemples">
<h2>Autres exemples<a class="headerlink" href="#Autres-exemples" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour construire le circuit que nous pouvons appeler <code class="docutils literal notranslate"><span class="pre">construct_circuit</span></code> et passer l’instance de problème, nous nous intéressons à :</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">power</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">grover</span><span class="o">.</span><span class="n">construct_circuit</span><span class="p">(</span><span class="n">problem</span><span class="p">,</span> <span class="n">power</span><span class="p">)</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="s1">&#39;mpl&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;iqx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_37_0.png" src="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_37_0.png" />
</div>
</div>
</section>
</section>
<section id="Estimation-de-l'amplitude">
<h1>Estimation de l’amplitude<a class="headerlink" href="#Estimation-de-l'amplitude" title="Lien permanent vers ce titre">¶</a></h1>
<section id="id2">
<h2>En résumé<a class="headerlink" href="#id2" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour tous les algorithmes d’estimation de l’amplitude * <code class="docutils literal notranslate"><span class="pre">AmplitudeEstimation</span></code> * <code class="docutils literal notranslate"><span class="pre">IterativeAmplitudeEstimation</span></code> * <code class="docutils literal notranslate"><span class="pre">MaximumLikelihoodAmplitudeEstimation</span></code> et * <code class="docutils literal notranslate"><span class="pre">FasterAmplitudeEstimation</span></code></p>
<p>l’interface a changé de</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">qae</span> <span class="o">=</span> <span class="n">AmplitudeEstimation</span><span class="p">(</span><span class="n">algorithm_settings</span><span class="p">,</span> <span class="n">estimation_settings</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">qae</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>pour séparer les paramètres du problème/oracle et des algorithmes</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">qae</span> <span class="o">=</span> <span class="n">AmplitudeEstimation</span><span class="p">(</span><span class="n">algorithm_settings</span><span class="p">)</span>
<span class="n">problem</span> <span class="o">=</span> <span class="n">EstimationProblem</span><span class="p">(</span><span class="n">oracle_settings</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">qae</span><span class="o">.</span><span class="n">amplify</span><span class="p">(</span><span class="n">problem</span><span class="p">)</span>
</pre></div>
</div>
<!-- See the documentation of the [deprecated amplitude estimation algorithms](https://qiskit.org/documentation/apidoc/qiskit.aqua.algorithms.html#amplitude-estimators) and [new ones](#). --></section>
<section id="id3">
<h2>Guide de migration<a class="headerlink" href="#id3" title="Lien permanent vers ce titre">¶</a></h2>
<p>Ici, nous aimerions estimer la probabilité de mesurer un angle <span class="math notranslate nohighlight">\(|1\rangle\)</span> dans notre seul qubit. Si la préparation de l’état est fournie en tant que circuit</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">probability</span> <span class="o">=</span> <span class="mf">0.25</span>
<span class="n">rotation_angle</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">probability</span><span class="p">))</span>

<span class="n">state_preparation</span> <span class="o">=</span> <span class="n">QuantumCircuit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">state_preparation</span><span class="o">.</span><span class="n">ry</span><span class="p">(</span><span class="n">rotation_angle</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="n">objective_qubits</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># the good states are identified by qubit 0 being in state |1&gt;</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Target probability:&#39;</span><span class="p">,</span> <span class="n">probability</span><span class="p">)</span>

<span class="n">state_preparation</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="s1">&#39;mpl&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;iqx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Target probability: 0.25
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_40_1.png" src="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_40_1.png" />
</div>
</div>
<p><strong>Précédemment :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.algorithms</span> <span class="kn">import</span> <span class="n">AmplitudeEstimation</span>

<span class="c1"># instantiate the algorithm and passing the problem instance</span>
<span class="n">ae</span> <span class="o">=</span> <span class="n">AmplitudeEstimation</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">state_preparation</span><span class="p">,</span> <span class="n">quantum_instance</span><span class="o">=</span><span class="n">aqua_qinstance</span><span class="p">)</span>

<span class="c1"># run the algorithm</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">ae</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="c1"># print the results</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Grid-based estimate:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">estimation</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Improved continuous estimate:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">mle</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Grid-based estimate: 0.1464466
Improved continuous estimate: 0.2499999956526605
</pre></div></div>
</div>
<p><strong>Maintenant :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.algorithms</span> <span class="kn">import</span> <span class="n">AmplitudeEstimation</span><span class="p">,</span> <span class="n">EstimationProblem</span>

<span class="n">problem</span> <span class="o">=</span> <span class="n">EstimationProblem</span><span class="p">(</span><span class="n">state_preparation</span><span class="o">=</span><span class="n">state_preparation</span><span class="p">,</span> <span class="n">objective_qubits</span><span class="o">=</span><span class="n">objective_qubits</span><span class="p">)</span>
<span class="n">ae</span> <span class="o">=</span> <span class="n">AmplitudeEstimation</span><span class="p">(</span><span class="n">num_eval_qubits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">quantum_instance</span><span class="o">=</span><span class="n">qinstance</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">ae</span><span class="o">.</span><span class="n">estimate</span><span class="p">(</span><span class="n">problem</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Grid-based estimate:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">estimation</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Improved continuous estimate:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">mle</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Grid-based estimate: 0.1464466
Improved continuous estimate: 0.2499999956513743
</pre></div></div>
</div>
<p>Notez que l’ancienne classe utilisait le dernier qubit dans la <code class="docutils literal notranslate"><span class="pre">state_preparation</span></code> comme un qubit objectif par défaut, si aucun autre indice n’a été spécifié. Cette valeur par défaut n’existe plus pour améliorer la transparence et supprimer les hypothèses implicites.</p>
</section>
<section id="id4">
<h2>Autres exemples<a class="headerlink" href="#id4" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour construire le circuit pour l’estimation de l’amplitude, on peut faire</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">ae</span><span class="o">.</span><span class="n">construct_circuit</span><span class="p">(</span><span class="n">estimation_problem</span><span class="o">=</span><span class="n">problem</span><span class="p">)</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="s1">&#39;mpl&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;iqx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_48_0.png" src="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_48_0.png" />
</div>
</div>
<p>Maintenant que le problème est séparé de l’algorithme, nous pouvons échanger <code class="docutils literal notranslate"><span class="pre">AmplitudeEstimation</span></code> avec tout autre algorithme qui implémente l’interface``AmplitudeEstimator``.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.algorithms</span> <span class="kn">import</span> <span class="n">IterativeAmplitudeEstimation</span>

<span class="n">iae</span> <span class="o">=</span> <span class="n">IterativeAmplitudeEstimation</span><span class="p">(</span><span class="n">epsilon_target</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">quantum_instance</span><span class="o">=</span><span class="n">qinstance</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">iae</span><span class="o">.</span><span class="n">estimate</span><span class="p">(</span><span class="n">problem</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Estimate:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">estimation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Estimate: 0.24999999999999994
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.algorithms</span> <span class="kn">import</span> <span class="n">MaximumLikelihoodAmplitudeEstimation</span>

<span class="n">mlae</span> <span class="o">=</span> <span class="n">MaximumLikelihoodAmplitudeEstimation</span><span class="p">(</span><span class="n">evaluation_schedule</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">quantum_instance</span><span class="o">=</span><span class="n">qinstance</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">mlae</span><span class="o">.</span><span class="n">estimate</span><span class="p">(</span><span class="n">problem</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Estimate:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">estimation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Estimate: 0.2500081904035319
</pre></div></div>
</div>
</section>
</section>
<section id="Valeurs-propres-minimales">
<h1>Valeurs propres minimales<a class="headerlink" href="#Valeurs-propres-minimales" title="Lien permanent vers ce titre">¶</a></h1>
<section id="id5">
<h2>En résumé<a class="headerlink" href="#id5" title="Lien permanent vers ce titre">¶</a></h2>
<ul class="simple">
<li><p>L’interface est restée essentiellement la même, mais où il était auparavant possible de passer l’opérateur dans l’initialiseur.</p></li>
<li><p>Les opérateurs doivent à présent être construits avec des opérateurs de <code class="docutils literal notranslate"><span class="pre">qiskit.opflow</span></code> au lieu de <code class="docutils literal notranslate"><span class="pre">qiskit.aqua.operators</span></code>.</p></li>
<li><p>L’argument <code class="docutils literal notranslate"><span class="pre">var_form</span></code> de <code class="docutils literal notranslate"><span class="pre">VQE</span></code> a été rebaptisé <code class="docutils literal notranslate"><span class="pre">ansatz</span></code>.</p></li>
</ul>
</section>
<section id="id6">
<h2>Guide de migration<a class="headerlink" href="#id6" title="Lien permanent vers ce titre">¶</a></h2>
<p>Supposons que nous voulons trouver la valeur propre minimale de</p>
<div class="math notranslate nohighlight">
\[H = Z \otimes I.\]</div>
<section id="Eigensolver-basé-sur-NumPy">
<h3>Eigensolver basé sur NumPy<a class="headerlink" href="#Eigensolver-basé-sur-NumPy" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>Précédemment :</strong></p>
<p>Auparavant, nous importions les opérateurs de <code class="docutils literal notranslate"><span class="pre">qiskit.aqua.operators</span></code>:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.operators</span> <span class="kn">import</span> <span class="n">Z</span><span class="p">,</span> <span class="n">I</span>

<span class="n">observable</span> <span class="o">=</span> <span class="n">Z</span> <span class="o">^</span> <span class="n">I</span>
</pre></div>
</div>
</div>
<p>puis nous trouvions la valeur propre minimale en utilisant</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.algorithms</span> <span class="kn">import</span> <span class="n">NumPyMinimumEigensolver</span>

<span class="n">mes</span> <span class="o">=</span> <span class="n">NumPyMinimumEigensolver</span><span class="p">()</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">mes</span><span class="o">.</span><span class="n">compute_minimum_eigenvalue</span><span class="p">(</span><span class="n">observable</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">eigenvalue</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-1+0j)
</pre></div></div>
</div>
<p>Il était possible de transmettre l’observable dans l’initialiseur, ce qui n’est plus autorisé maintenant en raison de la séparation de l’algorithme du problème.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">mes</span> <span class="o">=</span> <span class="n">NumPyMinimumEigensolver</span><span class="p">(</span><span class="n">observable</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">mes</span><span class="o">.</span><span class="n">compute_minimum_eigenvalue</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">eigenvalue</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-1+0j)
</pre></div></div>
</div>
<p><strong>Maintenant :</strong></p>
<p>Maintenant nous devons importer depuis <code class="docutils literal notranslate"><span class="pre">qiskit.opflow</span></code> mais le reste de la syntaxe reste exactement la même:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.opflow</span> <span class="kn">import</span> <span class="n">Z</span><span class="p">,</span> <span class="n">I</span>

<span class="n">observable</span> <span class="o">=</span> <span class="n">Z</span> <span class="o">^</span> <span class="n">I</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.algorithms</span> <span class="kn">import</span> <span class="n">NumPyMinimumEigensolver</span>

<span class="n">mes</span> <span class="o">=</span> <span class="n">NumPyMinimumEigensolver</span><span class="p">()</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">mes</span><span class="o">.</span><span class="n">compute_minimum_eigenvalue</span><span class="p">(</span><span class="n">observable</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">eigenvalue</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-1+0j)
</pre></div></div>
</div>
</section>
<section id="VQE">
<h3>VQE<a class="headerlink" href="#VQE" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les mêmes changements s’appliquent à VQE. Prenons le circuit <code class="docutils literal notranslate"><span class="pre">RealAmplitudes</span></code> en tant que ansatz :</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.circuit.library</span> <span class="kn">import</span> <span class="n">RealAmplitudes</span>

<span class="n">ansatz</span> <span class="o">=</span> <span class="n">RealAmplitudes</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ansatz</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="s1">&#39;mpl&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;iqx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_65_0.png" src="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_65_0.png" />
</div>
</div>
<p><strong>Précédemment :</strong></p>
<p>Auparavant, nous devions importer à la fois l’optimiseur et les opérateurs de Qiskit Aqua:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.algorithms</span> <span class="kn">import</span> <span class="n">VQE</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.components.optimizers</span> <span class="kn">import</span> <span class="n">COBYLA</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.operators</span> <span class="kn">import</span> <span class="n">Z</span><span class="p">,</span> <span class="n">I</span>

<span class="n">observable</span> <span class="o">=</span> <span class="n">Z</span> <span class="o">^</span> <span class="n">I</span>

<span class="n">vqe</span> <span class="o">=</span> <span class="n">VQE</span><span class="p">(</span><span class="n">var_form</span><span class="o">=</span><span class="n">ansatz</span><span class="p">,</span> <span class="n">optimizer</span><span class="o">=</span><span class="n">COBYLA</span><span class="p">(),</span> <span class="n">quantum_instance</span><span class="o">=</span><span class="n">aqua_qinstance</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">vqe</span><span class="o">.</span><span class="n">compute_minimum_eigenvalue</span><span class="p">(</span><span class="n">observable</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">eigenvalue</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-0.9999999971946394+0j)
</pre></div></div>
</div>
<p><strong>Maintenant :</strong></p>
<p>Maintenant, nous importons des optimiseurs de <code class="docutils literal notranslate"><span class="pre">qiskit.algorithms.optimizers</span></code> et des opérateurs de <code class="docutils literal notranslate"><span class="pre">qiskit.opflow</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.algorithms</span> <span class="kn">import</span> <span class="n">VQE</span>
<span class="kn">from</span> <span class="nn">qiskit.algorithms.optimizers</span> <span class="kn">import</span> <span class="n">COBYLA</span>
<span class="kn">from</span> <span class="nn">qiskit.opflow</span> <span class="kn">import</span> <span class="n">Z</span><span class="p">,</span> <span class="n">I</span>

<span class="n">observable</span> <span class="o">=</span> <span class="n">Z</span> <span class="o">^</span> <span class="n">I</span>

<span class="n">vqe</span> <span class="o">=</span> <span class="n">VQE</span><span class="p">(</span><span class="n">ansatz</span><span class="o">=</span><span class="n">ansatz</span><span class="p">,</span> <span class="n">optimizer</span><span class="o">=</span><span class="n">COBYLA</span><span class="p">(),</span> <span class="n">quantum_instance</span><span class="o">=</span><span class="n">qinstance</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">vqe</span><span class="o">.</span><span class="n">compute_minimum_eigenvalue</span><span class="p">(</span><span class="n">observable</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">eigenvalue</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-0.9999995645308767+0j)
</pre></div></div>
</div>
<p>Notez que <code class="docutils literal notranslate"><span class="pre">qiskit.aqua.components.variational_forms</span></code> est entièrement déprécié en faveur des objets de circuit. La plupart des formes variationnelles ont déjà été portées vers la bibliothèque de circuits dans les versions précédentes et à présent <code class="docutils literal notranslate"><span class="pre">UCCSD</span></code> fait également partie de la bibliothèque de circuits de Qiskit Nature :</p>
<p><strong>Précédemment :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.circuit</span> <span class="kn">import</span> <span class="n">ParameterVector</span>
<span class="kn">from</span> <span class="nn">qiskit.chemistry.components.variational_forms</span> <span class="kn">import</span> <span class="n">UCCSD</span>

<span class="n">varform</span> <span class="o">=</span> <span class="n">UCCSD</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">qubit_mapping</span><span class="o">=</span><span class="s1">&#39;jordan_wigner&#39;</span><span class="p">,</span> <span class="n">two_qubit_reduction</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">parameters</span> <span class="o">=</span> <span class="n">ParameterVector</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">varform</span><span class="o">.</span><span class="n">num_parameters</span><span class="p">)</span>

<span class="n">circuit</span> <span class="o">=</span> <span class="n">varform</span><span class="o">.</span><span class="n">construct_circuit</span><span class="p">(</span><span class="n">parameters</span><span class="p">)</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="s1">&#39;mpl&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;iqx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_72_0.png" src="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_72_0.png" />
</div>
</div>
<p><strong>Maintenant.</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit_nature.mappers.second_quantization</span> <span class="kn">import</span> <span class="n">JordanWignerMapper</span>
<span class="kn">from</span> <span class="nn">qiskit_nature.converters.second_quantization.qubit_converter</span> <span class="kn">import</span> <span class="n">QubitConverter</span>
<span class="kn">from</span> <span class="nn">qiskit_nature.circuit.library</span> <span class="kn">import</span> <span class="n">UCCSD</span>

<span class="n">qubit_converter</span> <span class="o">=</span> <span class="n">QubitConverter</span><span class="p">(</span><span class="n">JordanWignerMapper</span><span class="p">())</span>

<span class="n">circuit</span> <span class="o">=</span> <span class="n">UCCSD</span><span class="p">(</span><span class="n">qubit_converter</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">circuit</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="s1">&#39;mpl&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;iqx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_74_0.png" src="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_74_0.png" />
</div>
</div>
</section>
<section id="QAOA">
<h3>QAOA<a class="headerlink" href="#QAOA" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour les Hamiltoniens de l’optimisation combinatoire (comme : :math:` Z otimes I”), nous pouvons utiliser l’algorithme QAOA.</p>
<p><strong>Précédemment :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.algorithms</span> <span class="kn">import</span> <span class="n">QAOA</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.components.optimizers</span> <span class="kn">import</span> <span class="n">COBYLA</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.operators</span> <span class="kn">import</span> <span class="n">Z</span><span class="p">,</span> <span class="n">I</span>

<span class="n">observable</span> <span class="o">=</span> <span class="n">Z</span> <span class="o">^</span> <span class="n">I</span>

<span class="n">qaoa</span> <span class="o">=</span> <span class="n">QAOA</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="n">COBYLA</span><span class="p">(),</span> <span class="n">quantum_instance</span><span class="o">=</span><span class="n">aqua_qinstance</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">qaoa</span><span class="o">.</span><span class="n">compute_minimum_eigenvalue</span><span class="p">(</span><span class="n">observable</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">eigenvalue</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-0.9999999808672868+0j)
</pre></div></div>
</div>
<p><strong>Maintenant :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[33]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.algorithms</span> <span class="kn">import</span> <span class="n">QAOA</span>
<span class="kn">from</span> <span class="nn">qiskit.algorithms.optimizers</span> <span class="kn">import</span> <span class="n">COBYLA</span>
<span class="kn">from</span> <span class="nn">qiskit.opflow</span> <span class="kn">import</span> <span class="n">Z</span><span class="p">,</span> <span class="n">I</span>

<span class="n">observable</span> <span class="o">=</span> <span class="n">Z</span> <span class="o">^</span> <span class="n">I</span>

<span class="n">qaoa</span> <span class="o">=</span> <span class="n">QAOA</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="n">COBYLA</span><span class="p">(),</span> <span class="n">quantum_instance</span><span class="o">=</span><span class="n">qinstance</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">qaoa</span><span class="o">.</span><span class="n">compute_minimum_eigenvalue</span><span class="p">(</span><span class="n">observable</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">eigenvalue</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-0.9999999752264653+0j)
</pre></div></div>
</div>
<p>** Autres exemples : **</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">qaoa</span><span class="o">.</span><span class="n">construct_circuit</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">observable</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="s1">&#39;mpl&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;iqx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_81_0.png" src="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_81_0.png" />
</div>
</div>
</section>
<section id="CPLEX-classique">
<h3>CPLEX classique<a class="headerlink" href="#CPLEX-classique" title="Lien permanent vers ce titre">¶</a></h3>
<p>L’algorithme <code class="docutils literal notranslate"><span class="pre">ClassicalCPLEX</span></code> est désormais disponible via l’interface <a href="#id1"><span class="problematic" id="id2">``</span></a>CplexOptimizer``dans le module d’apprentissage automatique.</p>
<p><strong>Précédemment :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.algorithms</span> <span class="kn">import</span> <span class="n">ClassicalCPLEX</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.operators</span> <span class="kn">import</span> <span class="n">WeightedPauliOperator</span>
<span class="kn">from</span> <span class="nn">qiskit.quantum_info</span> <span class="kn">import</span> <span class="n">Pauli</span>

<span class="n">op</span> <span class="o">=</span> <span class="n">WeightedPauliOperator</span><span class="p">([</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">Pauli</span><span class="p">(</span><span class="s1">&#39;ZZIII&#39;</span><span class="p">)],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">Pauli</span><span class="p">(</span><span class="s1">&#39;ZIIIZ&#39;</span><span class="p">)],</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">Pauli</span><span class="p">(</span><span class="s1">&#39;IZZII&#39;</span><span class="p">)]</span>
<span class="p">])</span>

<span class="n">cplex</span> <span class="o">=</span> <span class="n">ClassicalCPLEX</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">display</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">cplex</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Energy:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;energy&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Version identifier: 20.1.0.0 | 2020-11-11 | 9bedb6d68
CPXPARAM_Read_DataCheck                          1
CPXPARAM_Threads                                 1
CPXPARAM_MIP_Display                             0
CPXPARAM_TimeLimit                               600
CPXPARAM_MIP_Tolerances_MIPGap                   0
CPXPARAM_MIP_Tolerances_Integrality              0
Energy: -3.0
</pre></div></div>
</div>
<p><strong>Maintenant.</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[36]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit_optimization</span> <span class="kn">import</span> <span class="n">QuadraticProgram</span>
<span class="kn">from</span> <span class="nn">qiskit_optimization.algorithms</span> <span class="kn">import</span> <span class="n">CplexOptimizer</span>
<span class="kn">from</span> <span class="nn">qiskit.opflow</span> <span class="kn">import</span> <span class="n">I</span><span class="p">,</span> <span class="n">Z</span>

<span class="n">op</span> <span class="o">=</span> <span class="p">(</span><span class="n">Z</span> <span class="o">^</span> <span class="n">Z</span> <span class="o">^</span> <span class="n">I</span> <span class="o">^</span> <span class="n">I</span> <span class="o">^</span> <span class="n">I</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">Z</span> <span class="o">^</span> <span class="n">I</span> <span class="o">^</span> <span class="n">I</span> <span class="o">^</span> <span class="n">I</span> <span class="o">^</span> <span class="n">Z</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">I</span> <span class="o">^</span> <span class="n">Z</span> <span class="o">^</span> <span class="n">Z</span> <span class="o">^</span> <span class="n">I</span> <span class="o">^</span> <span class="n">I</span><span class="p">)</span>

<span class="n">qp</span> <span class="o">=</span> <span class="n">QuadraticProgram</span><span class="p">()</span>
<span class="n">qp</span><span class="o">.</span><span class="n">from_ising</span><span class="p">(</span><span class="n">op</span><span class="p">)</span>

<span class="n">cplex</span> <span class="o">=</span> <span class="n">CplexOptimizer</span><span class="p">()</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">cplex</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">qp</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Energy:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">fval</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Energy: -3.0
</pre></div></div>
</div>
</section>
</section>
</section>
<section id="Valeurs-propres-(générales)">
<h1>Valeurs propres (générales)<a class="headerlink" href="#Valeurs-propres-(générales)" title="Lien permanent vers ce titre">¶</a></h1>
<section id="id7">
<h2>En résumé<a class="headerlink" href="#id7" title="Lien permanent vers ce titre">¶</a></h2>
<p>En ce qui concerne <code class="docutils literal notranslate"><span class="pre">MinimumEigenSolver</span></code>, le seul changement pour <code class="docutils literal notranslate"><span class="pre">EigenSolver</span></code> est le type pour le chemin observable et le chemin d’importation.</p>
</section>
<section id="id8">
<h2>Guide de migration<a class="headerlink" href="#id8" title="Lien permanent vers ce titre">¶</a></h2>
<p><strong>Précédemment :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.algorithms</span> <span class="kn">import</span> <span class="n">NumPyEigensolver</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.operators</span> <span class="kn">import</span> <span class="n">I</span><span class="p">,</span> <span class="n">Z</span>

<span class="n">observable</span> <span class="o">=</span> <span class="n">Z</span> <span class="o">^</span> <span class="n">I</span>

<span class="n">es</span> <span class="o">=</span> <span class="n">NumPyEigensolver</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># get the lowest 3 eigenvalues</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">es</span><span class="o">.</span><span class="n">compute_eigenvalues</span><span class="p">(</span><span class="n">observable</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">eigenvalues</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[-1.+0.j -1.+0.j  1.+0.j]
</pre></div></div>
</div>
<p><strong>Maintenant :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[38]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.algorithms</span> <span class="kn">import</span> <span class="n">NumPyEigensolver</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.operators</span> <span class="kn">import</span> <span class="n">I</span><span class="p">,</span> <span class="n">Z</span>

<span class="n">observable</span> <span class="o">=</span> <span class="n">Z</span> <span class="o">^</span> <span class="n">I</span>

<span class="n">es</span> <span class="o">=</span> <span class="n">NumPyEigensolver</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>  <span class="c1"># get the lowest 3 eigenvalues</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">es</span><span class="o">.</span><span class="n">compute_eigenvalues</span><span class="p">(</span><span class="n">observable</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">eigenvalues</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[-1.+0.j -1.+0.j  1.+0.j]
</pre></div></div>
</div>
</section>
</section>
<section id="Algorithme-de-Shor">
<h1>Algorithme de Shor<a class="headerlink" href="#Algorithme-de-Shor" title="Lien permanent vers ce titre">¶</a></h1>
<section id="id9">
<h2>En résumé<a class="headerlink" href="#id9" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les arguments <code class="docutils literal notranslate"><span class="pre">N</span></code> et <code class="docutils literal notranslate"><span class="pre">a</span></code> sont passés de l’initialiseur à la méthode <code class="docutils literal notranslate"><span class="pre">Shor.factor</span></code>.</p>
</section>
<section id="id10">
<h2>Guide de migration<a class="headerlink" href="#id10" title="Lien permanent vers ce titre">¶</a></h2>
<p>Nous utiliserons ici une lecture basée sur le nobmre d’exéctuiont pour aller plus vite.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[39]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">aqua_qasm_qinstance</span> <span class="o">=</span> <span class="n">AquaQuantumInstance</span><span class="p">(</span><span class="n">Aer</span><span class="o">.</span><span class="n">get_backend</span><span class="p">(</span><span class="s1">&#39;qasm_simulator&#39;</span><span class="p">))</span>
<span class="n">qasm_qinstance</span> <span class="o">=</span> <span class="n">QuantumInstance</span><span class="p">(</span><span class="n">Aer</span><span class="o">.</span><span class="n">get_backend</span><span class="p">(</span><span class="s1">&#39;qasm_simulator&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p><strong>Précédemment :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[40]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.algorithms</span> <span class="kn">import</span> <span class="n">Shor</span>

<span class="n">shor</span> <span class="o">=</span> <span class="n">Shor</span><span class="p">(</span><span class="n">N</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">quantum_instance</span><span class="o">=</span><span class="n">aqua_qinstance</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">shor</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Factors:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;factors&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Factors: [3]
</pre></div></div>
</div>
<p><strong>Maintenant.</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[41]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.algorithms</span> <span class="kn">import</span> <span class="n">Shor</span>

<span class="n">shor</span> <span class="o">=</span> <span class="n">Shor</span><span class="p">(</span><span class="n">quantum_instance</span><span class="o">=</span><span class="n">qinstance</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">shor</span><span class="o">.</span><span class="n">factor</span><span class="p">(</span><span class="n">N</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Factors:&#39;</span><span class="p">,</span> <span class="n">result</span><span class="o">.</span><span class="n">factors</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Factors: [3]
</pre></div></div>
</div>
</section>
</section>
<section id="HHL">
<h1>HHL<a class="headerlink" href="#HHL" title="Lien permanent vers ce titre">¶</a></h1>
<section id="id11">
<h2>En résumé<a class="headerlink" href="#id11" title="Lien permanent vers ce titre">¶</a></h2>
<p>HHL a été complètement restructuré afin de permettre une interface intuitive et de rendre une représentation efficace du résultat, basée sur le circuit.</p>
</section>
<section id="id12">
<h2>Guide de migration<a class="headerlink" href="#id12" title="Lien permanent vers ce titre">¶</a></h2>
<p>Supposons que nous voulions résoudre le système linéaire suivant</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{pmatrix}
1 &amp; -1/3 \\
-1/3 &amp; 1 \\
\end{pmatrix}
\vec x
=
\begin{pmatrix}
1 \\ 0
\end{pmatrix}\end{split}\]</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[42]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span>
<span class="n">vector</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p><strong>Précédemment :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[43]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.circuit.library</span> <span class="kn">import</span> <span class="n">QFT</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.algorithms</span> <span class="kn">import</span> <span class="n">HHL</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.components.eigs</span> <span class="kn">import</span> <span class="n">EigsQPE</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.components.reciprocals</span> <span class="kn">import</span> <span class="n">LookupRotation</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.components.initial_states</span> <span class="kn">import</span> <span class="n">Custom</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.operators</span> <span class="kn">import</span> <span class="n">MatrixOperator</span>

<span class="k">def</span> <span class="nf">create_eigs</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">num_auxiliary</span><span class="p">,</span> <span class="n">num_time_slices</span><span class="p">,</span> <span class="n">negative_evals</span><span class="p">):</span>
    <span class="n">ne_qfts</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">negative_evals</span><span class="p">:</span>
        <span class="n">num_auxiliary</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">ne_qfts</span> <span class="o">=</span> <span class="p">[</span><span class="n">QFT</span><span class="p">(</span><span class="n">num_auxiliary</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="n">QFT</span><span class="p">(</span><span class="n">num_auxiliary</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">inverse</span><span class="p">()]</span>
    <span class="k">return</span> <span class="n">EigsQPE</span><span class="p">(</span><span class="n">MatrixOperator</span><span class="p">(</span><span class="n">matrix</span><span class="o">=</span><span class="n">matrix</span><span class="p">),</span>
                   <span class="n">QFT</span><span class="p">(</span><span class="n">num_auxiliary</span><span class="p">)</span><span class="o">.</span><span class="n">inverse</span><span class="p">(),</span>
                   <span class="n">num_time_slices</span><span class="o">=</span><span class="n">num_time_slices</span><span class="p">,</span>
                   <span class="n">num_ancillae</span><span class="o">=</span><span class="n">num_auxiliary</span><span class="p">,</span>
                   <span class="n">expansion_mode</span><span class="o">=</span><span class="s1">&#39;suzuki&#39;</span><span class="p">,</span>
                   <span class="n">expansion_order</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                   <span class="n">evo_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                   <span class="n">negative_evals</span><span class="o">=</span><span class="n">negative_evals</span><span class="p">,</span>
                   <span class="n">ne_qfts</span><span class="o">=</span><span class="n">ne_qfts</span><span class="p">)</span>

<span class="n">orig_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">vector</span><span class="p">)</span>

<span class="n">matrix</span><span class="p">,</span> <span class="n">vector</span><span class="p">,</span> <span class="n">truncate_powerdim</span><span class="p">,</span> <span class="n">truncate_hermitian</span> <span class="o">=</span> <span class="n">HHL</span><span class="o">.</span><span class="n">matrix_resize</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>

<span class="c1"># Initialize eigenvalue finding module</span>
<span class="n">eigs</span> <span class="o">=</span> <span class="n">create_eigs</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
<span class="n">num_q</span><span class="p">,</span> <span class="n">num_a</span> <span class="o">=</span> <span class="n">eigs</span><span class="o">.</span><span class="n">get_register_sizes</span><span class="p">()</span>

<span class="c1"># Initialize initial state module</span>
<span class="n">init_state</span> <span class="o">=</span> <span class="n">Custom</span><span class="p">(</span><span class="n">num_q</span><span class="p">,</span> <span class="n">state_vector</span><span class="o">=</span><span class="n">vector</span><span class="p">)</span>

<span class="c1"># Initialize reciprocal rotation module</span>
<span class="n">reci</span> <span class="o">=</span> <span class="n">LookupRotation</span><span class="p">(</span><span class="n">negative_evals</span><span class="o">=</span><span class="n">eigs</span><span class="o">.</span><span class="n">_negative_evals</span><span class="p">,</span> <span class="n">evo_time</span><span class="o">=</span><span class="n">eigs</span><span class="o">.</span><span class="n">_evo_time</span><span class="p">)</span>
<span class="n">algo</span> <span class="o">=</span> <span class="n">HHL</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">vector</span><span class="p">,</span> <span class="n">truncate_powerdim</span><span class="p">,</span> <span class="n">truncate_hermitian</span><span class="p">,</span> <span class="n">eigs</span><span class="p">,</span>
           <span class="n">init_state</span><span class="p">,</span> <span class="n">reci</span><span class="p">,</span> <span class="n">num_q</span><span class="p">,</span> <span class="n">num_a</span><span class="p">,</span> <span class="n">orig_size</span><span class="p">)</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">algo</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">aqua_qinstance</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">solution</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[ 0.66575607+4.96430258e-13j -0.38561455-2.84524449e-13j]
</pre></div></div>
</div>
<p><strong>Maintenant :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.algorithms.linear_solvers</span> <span class="kn">import</span> <span class="n">HHL</span>

<span class="n">hhl</span> <span class="o">=</span> <span class="n">HHL</span><span class="p">()</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">hhl</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
<span class="n">result</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="s1">&#39;mpl&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;iqx&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[44]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_104_0.png" src="../_images/aqua_tutorials_Qiskit_Algorithms_Migration_Guide_104_0.png" />
</div>
</div>
<p>Notez que le vecteur de solution n’est pas renvoyé, car cela nécessiterait une simulation exponentiellement onéreuse du circuit de solution. En revanche, le circuit peut être utilisé pour évaluer les observables de la solution. Pour plus de détails, voir la documentation et les chaînes de HHL.</p>
<section id="Solveur-linéaire-à-base-de-NumPy">
<h3>Solveur linéaire à base de NumPy<a class="headerlink" href="#Solveur-linéaire-à-base-de-NumPy" title="Lien permanent vers ce titre">¶</a></h3>
<p><strong>Précédemment :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[45]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.algorithms</span> <span class="kn">import</span> <span class="n">NumPyLSsolver</span>

<span class="n">ls</span> <span class="o">=</span> <span class="n">NumPyLSsolver</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">ls</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">solution</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[1.125, 0.37499999999999994]
</pre></div></div>
</div>
<p><strong>Maintenant :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[46]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.algorithms</span> <span class="kn">import</span> <span class="n">NumPyLinearSolver</span>

<span class="n">ls</span> <span class="o">=</span> <span class="n">NumPyLinearSolver</span><span class="p">()</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">ls</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">vector</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[1.125 0.375]
</pre></div></div>
</div>
</section>
</section>
</section>
<section id="Estimation-de-phase">
<h1>Estimation de phase<a class="headerlink" href="#Estimation-de-phase" title="Lien permanent vers ce titre">¶</a></h1>
<section id="id13">
<h2>En résumé<a class="headerlink" href="#id13" title="Lien permanent vers ce titre">¶</a></h2>
<p>L’estimation de la phase a été complètement restructurée et au lieu d’une seule classe <code class="docutils literal notranslate"><span class="pre">qiskit.aqua.algorithms.QPE</span></code> qui a été utilisée pour calculer la valeur propre d’un hamiltonien, nous avons maintenant deux implémentations distinctes: la <code class="docutils literal notranslate"><span class="pre">HamiltonianPhaseEstimation</span></code> prenant le rôle de l’ancien <code class="docutils literal notranslate"><span class="pre">QPE</span></code> et un nouvel algorithme <code class="docutils literal notranslate"><span class="pre">PhaseEstimation</span></code> pour l’estimation de la phase classique.</p>
<p>L’estimation de la phase itérative, <a href="#id1"><span class="problematic" id="id2">``</span></a>qiskit.aqua.algorithms.IQPE ` ` n’est pas encore remplacée mais suivra bientôt.</p>
</section>
<section id="id14">
<h2>Guide de migration<a class="headerlink" href="#id14" title="Lien permanent vers ce titre">¶</a></h2>
<p>Considérons le problème de trouver la valeur propre de</p>
<div class="math notranslate nohighlight">
\[H = 0,5 X + Y + Z\]</div>
<p>avec l’état d’entrée <span class="math notranslate nohighlight">\(|0\rangle\)</span> .</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[47]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">state_in</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p><strong>Précédemment :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[48]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.circuit.library</span> <span class="kn">import</span> <span class="n">QFT</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.algorithms</span> <span class="kn">import</span> <span class="n">QPE</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.components.initial_states</span> <span class="kn">import</span> <span class="n">Custom</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.operators</span> <span class="kn">import</span> <span class="n">I</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Z</span>

<span class="n">n_ancillae</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">num_time_slices</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">op</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">X</span> <span class="o">+</span> <span class="n">Y</span> <span class="o">+</span> <span class="n">Z</span>

<span class="n">state_preparation</span> <span class="o">=</span> <span class="n">Custom</span><span class="p">(</span><span class="n">op</span><span class="o">.</span><span class="n">num_qubits</span><span class="p">,</span> <span class="n">state_vector</span><span class="o">=</span><span class="n">state_in</span><span class="p">)</span>
<span class="n">iqft</span> <span class="o">=</span> <span class="n">QFT</span><span class="p">(</span><span class="n">n_ancillae</span><span class="p">,</span> <span class="n">do_swaps</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">inverse</span><span class="p">()</span><span class="o">.</span><span class="n">reverse_bits</span><span class="p">()</span>

<span class="n">qpe</span> <span class="o">=</span> <span class="n">QPE</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">state_preparation</span><span class="p">,</span> <span class="n">iqft</span><span class="p">,</span> <span class="n">num_time_slices</span><span class="p">,</span> <span class="n">n_ancillae</span><span class="p">,</span>
          <span class="n">expansion_mode</span><span class="o">=</span><span class="s1">&#39;trotter&#39;</span><span class="p">,</span>
          <span class="n">shallow_circuit_concat</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="n">result</span> <span class="o">=</span> <span class="n">qpe</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">aqua_qinstance</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">eigenvalue</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.78125
</pre></div></div>
</div>
<p><strong>Maintenant.</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[49]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit</span> <span class="kn">import</span> <span class="n">BasicAer</span>
<span class="kn">from</span> <span class="nn">qiskit.algorithms</span> <span class="kn">import</span> <span class="n">HamiltonianPhaseEstimation</span>
<span class="kn">from</span> <span class="nn">qiskit.opflow</span> <span class="kn">import</span> <span class="n">I</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">StateFn</span><span class="p">,</span> <span class="n">PauliTrotterEvolution</span><span class="p">,</span> <span class="n">Suzuki</span>

<span class="n">n_ancillae</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">num_time_slices</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">op</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">X</span> <span class="o">+</span> <span class="n">Y</span> <span class="o">+</span> <span class="n">Z</span>

<span class="n">state_preparation</span> <span class="o">=</span> <span class="n">StateFn</span><span class="p">(</span><span class="n">state_in</span><span class="p">)</span>

<span class="n">evolution</span> <span class="o">=</span> <span class="n">PauliTrotterEvolution</span><span class="p">(</span><span class="s1">&#39;trotter&#39;</span><span class="p">,</span> <span class="n">reps</span><span class="o">=</span><span class="n">num_time_slices</span><span class="p">)</span>

<span class="n">qpe</span> <span class="o">=</span> <span class="n">HamiltonianPhaseEstimation</span><span class="p">(</span><span class="n">n_ancillae</span><span class="p">,</span> <span class="n">quantum_instance</span><span class="o">=</span><span class="n">qinstance</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">qpe</span><span class="o">.</span><span class="n">estimate</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">state_preparation</span><span class="p">,</span> <span class="n">evolution</span><span class="o">=</span><span class="n">evolution</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">most_likely_eigenvalue</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.78125
</pre></div></div>
</div>
</section>
<section id="id15">
<h2>Autres exemples<a class="headerlink" href="#id15" title="Lien permanent vers ce titre">¶</a></h2>
<p>Maintenant, nous pouvons aussi faire une estimation de phase standard pour résoudre</p>
<div class="math notranslate nohighlight">
\[U|\psi\rangle = e^{2\pi i\phi}|\psi\rangle.\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[50]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.circuit</span> <span class="kn">import</span> <span class="n">QuantumCircuit</span>
<span class="kn">from</span> <span class="nn">qiskit.algorithms</span> <span class="kn">import</span> <span class="n">PhaseEstimation</span>

<span class="n">unitary</span> <span class="o">=</span> <span class="n">QuantumCircuit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">unitary</span><span class="o">.</span><span class="n">z</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">state_in</span> <span class="o">=</span> <span class="n">QuantumCircuit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">state_in</span><span class="o">.</span><span class="n">x</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># eigenstate |1&gt; with eigenvalue -1, hence a phase of phi = 0.5</span>

<span class="n">pe</span> <span class="o">=</span> <span class="n">PhaseEstimation</span><span class="p">(</span><span class="n">num_evaluation_qubits</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">quantum_instance</span><span class="o">=</span><span class="n">qinstance</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">pe</span><span class="o">.</span><span class="n">estimate</span><span class="p">(</span><span class="n">unitary</span><span class="p">,</span> <span class="n">state_in</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">most_likely_phase</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0.5
</pre></div></div>
</div>
</section>
</section>
<section id="VQC">
<h1>VQC<a class="headerlink" href="#VQC" title="Lien permanent vers ce titre">¶</a></h1>
<section id="id16">
<h2>En résumé<a class="headerlink" href="#id16" title="Lien permanent vers ce titre">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">VQC</span></code> est à présent dans <code class="docutils literal notranslate"><span class="pre">qiskit_machine_learning.algorithms.VQC</span></code> et est maintenant implémenté en tant qu’objet <code class="docutils literal notranslate"><span class="pre">NeuralNetworkClassification</span></code> au lieu d’un algorithme variationnel générique. L’interface a été mise à jour en conséquence, voir les tutoriels ci-dessous.</p>
</section>
<section id="id17">
<h2>Guide de migration<a class="headerlink" href="#id17" title="Lien permanent vers ce titre">¶</a></h2>
<p>Comme les exemples sont assez longs, nous nous référons à une comparaison entre les tutoriels précédents et les nouveaux.</p>
<p><strong>Précédemment :</strong></p>
<p><a class="reference external" href="https://github.com/Qiskit/qiskit-tutorials/blob/master/tutorials/machine_learning/03_vqc.ipynb">https://github.com/Qiskit/qiskit-tutorials/blob/master/tutorials/machine_learning/03_vqc.ipynb</a></p>
<p><strong>Maintenant.</strong></p>
<p><a class="reference external" href="https://github.com/Qiskit/qiskit-machine-learning/blob/main/docs/tutorials/02_neural_network_classifier_and_regressor.ipynb">https://github.com/Qiskit/qiskit-machine-learning/blob/main/docs/tutorials/02_neural_network_classifier_and_regressor.ipynb</a></p>
</section>
</section>
<section id="QSVM">
<h1>QSVM<a class="headerlink" href="#QSVM" title="Lien permanent vers ce titre">¶</a></h1>
<section id="id18">
<h2>En résumé<a class="headerlink" href="#id18" title="Lien permanent vers ce titre">¶</a></h2>
<p>Le workflow <code class="docutils literal notranslate"><span class="pre">QSVM</span></code> a été remplacé par une routine <code class="docutils literal notranslate"><span class="pre">QuantumKernel</span></code> plus générique pour mieux mettre en évidence l’avantage éventuel des ordinateurs quantiques dans le calcul des noyaux.</p>
</section>
<section id="id19">
<h2>Guide de migration<a class="headerlink" href="#id19" title="Lien permanent vers ce titre">¶</a></h2>
<p><strong>Précédemment :</strong></p>
<p><a class="reference external" href="https://github.com/Qiskit/qiskit-tutorials/blob/master/tutorials/machine_learning/01_qsvm_classification.ipynb">https://github.com/Qiskit/qiskit-tutorials/blob/master/tutorials/machine_learning/01_qsvm_classification.ipynb</a></p>
<p><strong>Maintenant.</strong></p>
<p><a class="reference external" href="https://github.com/Qiskit/qiskit-machine-learning/blob/main/docs/tutorials/03_quantum_kernel.ipynb">https://github.com/Qiskit/qiskit-machine-learning/blob/main/docs/tutorials/03_quantum_kernel.ipynb</a></p>
</section>
</section>
<section id="QGAN">
<h1>QGAN<a class="headerlink" href="#QGAN" title="Lien permanent vers ce titre">¶</a></h1>
<section id="id20">
<h2>En résumé<a class="headerlink" href="#id20" title="Lien permanent vers ce titre">¶</a></h2>
<p>L’interface et les méthodes sont restées les mêmes, seul l’emplacement d’importation de l’algorithme et ses composants ont changé de <code class="docutils literal notranslate"><span class="pre">qiskit.aqua</span></code> à <code class="docutils literal notranslate"><span class="pre">qiskit_machine_learning</span></code>.</p>
</section>
<section id="id21">
<h2>Guide de migration<a class="headerlink" href="#id21" title="Lien permanent vers ce titre">¶</a></h2>
<p><strong>Précédemment :</strong></p>
<p><a class="reference external" href="https://github.com/Qiskit/qiskit-tutorials/blob/master/tutorials/machine_learning/04_qgans_for_loading_random_distributions.ipynb">https://github.com/Qiskit/qiskit-tutorials/blob/master/tutorials/machine_learning/04_qgans_for_loading_random_distributions.ipynb</a></p>
<p><strong>Maintenant.</strong></p>
<p><a class="reference external" href="https://github.com/Qiskit/qiskit-machine-learning/blob/main/docs/tutorials/04_qgans_for_loading_random_distributions.ipynb">https://github.com/Qiskit/qiskit-machine-learning/blob/main/docs/tutorials/04_qgans_for_loading_random_distributions.ipynb</a></p>
</section>
</section>
<section id="Algorithmes-éducatifs">
<h1>Algorithmes éducatifs<a class="headerlink" href="#Algorithmes-éducatifs" title="Lien permanent vers ce titre">¶</a></h1>
<p>Tous les algorithmes éducatifs sont devenus obsolètes et la plupart sont maintenant disponibles dans le manuel.</p>
<section id="Deutsch-Josza">
<h2>Deutsch-Josza<a class="headerlink" href="#Deutsch-Josza" title="Lien permanent vers ce titre">¶</a></h2>
<p>Déplacé dans le manuel : <a class="reference external" href="https://qiskit.org/textbook/ch-algorithms/deutsch-jozsa.html">https://qiskit.org/textbook/ch-algorithms/deutsch-jozsa.html</a>.</p>
</section>
<section id="Bernstein-Vazirani">
<h2>Bernstein-Vazirani<a class="headerlink" href="#Bernstein-Vazirani" title="Lien permanent vers ce titre">¶</a></h2>
<p>Déplacé dans le manuel: <a class="reference external" href="https://qiskit.org/textbook/ch-algorithms/bernstein-vazirani.html">https://qiskit.org/textbook/ch-algorithms/bernstein-vazirani.html</a>.</p>
</section>
<section id="Simon">
<h2>Simon<a class="headerlink" href="#Simon" title="Lien permanent vers ce titre">¶</a></h2>
<p>Déplacé dans le manuel : <a class="reference external" href="https://qiskit.org/textbook/ch-algorithms/simon.html">https://qiskit.org/textbook/ch-algorithms/simon.html</a>.</p>
</section>
<section id="EOH">
<h2>EOH<a class="headerlink" href="#EOH" title="Lien permanent vers ce titre">¶</a></h2>
<p>L’évolution de l’algorithme de Hamiltonien est maintenant implémentée avec les outils de base de <code class="docutils literal notranslate"><span class="pre">qiskit.opflow</span></code>.</p>
<p><strong>Précédemment :</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qiskit.aqua.algorithms</span> <span class="kn">import</span> <span class="n">EOH</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.operators</span> <span class="kn">import</span> <span class="n">WeightedPauliOperator</span>
<span class="kn">from</span> <span class="nn">qiskit.aqua.components.initial_states</span> <span class="kn">import</span> <span class="n">Custom</span>
<span class="kn">from</span> <span class="nn">qiskit.quantum_info</span> <span class="kn">import</span> <span class="n">Pauli</span>

<span class="n">hamiltonian</span> <span class="o">=</span> <span class="n">WeightedPauliOperator</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="n">Pauli</span><span class="p">(</span><span class="s1">&#39;XX&#39;</span><span class="p">)],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">Pauli</span><span class="p">(</span><span class="s1">&#39;ZZ&#39;</span><span class="p">)],</span> <span class="p">[</span><span class="mi">1</span><span class="n">j</span><span class="p">,</span> <span class="n">Pauli</span><span class="p">(</span><span class="s1">&#39;YY&#39;</span><span class="p">)]])</span>

<span class="n">observable</span> <span class="o">=</span> <span class="n">WeightedPauliOperator</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="n">Pauli</span><span class="p">(</span><span class="s1">&#39;XI&#39;</span><span class="p">)]])</span>

<span class="n">initial_state</span> <span class="o">=</span> <span class="n">Custom</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;uniform&#39;</span><span class="p">)</span>

<span class="n">evo_time</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">num_time_slices</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">eoh</span> <span class="o">=</span> <span class="n">EOH</span><span class="p">(</span><span class="n">observable</span><span class="p">,</span> <span class="n">initial_state</span><span class="p">,</span> <span class="n">hamiltonian</span><span class="p">,</span> <span class="n">evo_time</span><span class="o">=</span><span class="n">evo_time</span><span class="p">,</span> <span class="n">num_time_slices</span><span class="o">=</span><span class="n">num_time_slices</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">eoh</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">aqua_qinstance</span><span class="p">)</span>
<span class="n">result</span><span class="p">[</span><span class="s1">&#39;avg&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[51]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-0.6536436208636113+0j)
</pre></div></div>
</div>
<p><strong>Maintenant.</strong></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[52]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">qiskit.opflow</span> <span class="kn">import</span> <span class="n">I</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">Y</span><span class="p">,</span> <span class="n">Z</span><span class="p">,</span> <span class="n">PauliTrotterEvolution</span><span class="p">,</span> <span class="n">StateFn</span>

<span class="n">hamiltonian</span> <span class="o">=</span> <span class="p">(</span><span class="n">X</span> <span class="o">^</span> <span class="n">X</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">Z</span> <span class="o">^</span> <span class="n">Z</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="n">j</span> <span class="o">*</span> <span class="p">(</span><span class="n">Y</span> <span class="o">^</span> <span class="n">Y</span><span class="p">)</span>

<span class="n">observable</span> <span class="o">=</span> <span class="n">X</span> <span class="o">^</span> <span class="n">I</span>

<span class="n">initial_state</span> <span class="o">=</span> <span class="n">StateFn</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">evo_time</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">num_time_slices</span> <span class="o">=</span> <span class="mi">10</span>

<span class="c1"># get the evolution operator</span>
<span class="n">evolved_hamiltonian</span> <span class="o">=</span> <span class="p">(</span><span class="n">evo_time</span> <span class="o">*</span> <span class="n">hamiltonian</span><span class="p">)</span><span class="o">.</span><span class="n">exp_i</span><span class="p">()</span>

<span class="n">evo</span> <span class="o">=</span> <span class="n">PauliTrotterEvolution</span><span class="p">(</span><span class="n">reps</span><span class="o">=</span><span class="n">num_time_slices</span><span class="p">)</span>
<span class="n">evo</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">evolved_hamiltonian</span><span class="p">)</span>

<span class="c1"># get the evolved state</span>
<span class="n">evolved_state</span> <span class="o">=</span> <span class="n">evolved_hamiltonian</span> <span class="o">@</span> <span class="n">initial_state</span>

<span class="c1"># evaluate the target observable at the evolved state</span>
<span class="nb">print</span><span class="p">((</span><span class="o">~</span><span class="n">StateFn</span><span class="p">(</span><span class="n">observable</span><span class="p">)</span> <span class="o">@</span> <span class="n">evolved_state</span><span class="p">)</span><span class="o">.</span><span class="n">eval</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(-0.6536436208636165+0j)
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</section>
</section>


             </article>
             
            </div>
            <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="index.html" class="btn btn-neutral" title="Tutoriels de migration Qiskit Aqua" accesskey="p" rel="prev"><img src="../_static/images/chevron-right-orange.svg" class="previous-page"> Previous</a>
      
    </div>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Qiskit Development Team.
      Mis à jour le 2021/10/02.

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>

          </div>
        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">Guide de migration Qiskit Aqua</a></li>
<li><a class="reference internal" href="#QuantumInstance">QuantumInstance</a></li>
<li><a class="reference internal" href="#Opérateurs">Opérateurs</a></li>
<li><a class="reference internal" href="#Optimiseurs">Optimiseurs</a></li>
<li><a class="reference internal" href="#Grover">Grover</a><ul>
<li><a class="reference internal" href="#En-résumé">En résumé</a></li>
<li><a class="reference internal" href="#Guide-de-migration">Guide de migration</a></li>
<li><a class="reference internal" href="#Autres-exemples">Autres exemples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Estimation-de-l'amplitude">Estimation de l’amplitude</a><ul>
<li><a class="reference internal" href="#id2">En résumé</a></li>
<li><a class="reference internal" href="#id3">Guide de migration</a></li>
<li><a class="reference internal" href="#id4">Autres exemples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Valeurs-propres-minimales">Valeurs propres minimales</a><ul>
<li><a class="reference internal" href="#id5">En résumé</a></li>
<li><a class="reference internal" href="#id6">Guide de migration</a><ul>
<li><a class="reference internal" href="#Eigensolver-basé-sur-NumPy">Eigensolver basé sur NumPy</a></li>
<li><a class="reference internal" href="#VQE">VQE</a></li>
<li><a class="reference internal" href="#QAOA">QAOA</a></li>
<li><a class="reference internal" href="#CPLEX-classique">CPLEX classique</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#Valeurs-propres-(générales)">Valeurs propres (générales)</a><ul>
<li><a class="reference internal" href="#id7">En résumé</a></li>
<li><a class="reference internal" href="#id8">Guide de migration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Algorithme-de-Shor">Algorithme de Shor</a><ul>
<li><a class="reference internal" href="#id9">En résumé</a></li>
<li><a class="reference internal" href="#id10">Guide de migration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#HHL">HHL</a><ul>
<li><a class="reference internal" href="#id11">En résumé</a></li>
<li><a class="reference internal" href="#id12">Guide de migration</a><ul>
<li><a class="reference internal" href="#Solveur-linéaire-à-base-de-NumPy">Solveur linéaire à base de NumPy</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#Estimation-de-phase">Estimation de phase</a><ul>
<li><a class="reference internal" href="#id13">En résumé</a></li>
<li><a class="reference internal" href="#id14">Guide de migration</a></li>
<li><a class="reference internal" href="#id15">Autres exemples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#VQC">VQC</a><ul>
<li><a class="reference internal" href="#id16">En résumé</a></li>
<li><a class="reference internal" href="#id17">Guide de migration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#QSVM">QSVM</a><ul>
<li><a class="reference internal" href="#id18">En résumé</a></li>
<li><a class="reference internal" href="#id19">Guide de migration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#QGAN">QGAN</a><ul>
<li><a class="reference internal" href="#id20">En résumé</a></li>
<li><a class="reference internal" href="#id21">Guide de migration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#Algorithmes-éducatifs">Algorithmes éducatifs</a><ul>
<li><a class="reference internal" href="#Deutsch-Josza">Deutsch-Josza</a></li>
<li><a class="reference internal" href="#Bernstein-Vazirani">Bernstein-Vazirani</a></li>
<li><a class="reference internal" href="#Simon">Simon</a></li>
<li><a class="reference internal" href="#EOH">EOH</a></li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  

     
       <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
         <script src="../_static/jquery.js"></script>
         <script src="../_static/underscore.js"></script>
         <script src="../_static/doctools.js"></script>
         <script src="../_static/language_data.js"></script>
         <script src="../_static/thebelab-helper.js"></script>
         <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
         <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
         <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
         <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
         <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "tex2jax_ignore|mathjax_ignore|document", "processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
     

  

  <script type="text/javascript" src="../_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="../_static/js/vendor/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

  <div>
    <br>
  </div>

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://qiskit.org/" aria-label="PyTorch"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="../getting_started.html">Getting Started</a>
          </li>
          <li>
            <a href="../tutorials.html">Tutorials</a>
          </li>
          <li>
            <a href="https://qiskit.org/documentation/partners/">Partners</a>
          </li>
          <br>
          <li class="resources-mobile-menu-title">
            Applications
          </li>
          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://qiskit.org/documentation/machine-learning/">Machine learning</a>
            </li>

            <li>
              <a href="https://qiskit.org/documentation/nature/">Nature</a>
            </li>

            <li>
              <a href="https://qiskit.org/documentation/finance/">Finance</a>
            </li>

            <li>
              <a href="https://qiskit.org/documentation/optimization/">Optimization</a>
            </li>
          </ul>
          <br>
          <li>
            <a href="https://qiskit.org/documentation/experiments/">Experiments</a>
          </li>
          <br>
          <li class="resources-mobile-menu-title">
            Resources
          </li>

          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://qiskit.slack.com">Slack support</a>
            </li>
          </ul>
          <br>
        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="../_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>