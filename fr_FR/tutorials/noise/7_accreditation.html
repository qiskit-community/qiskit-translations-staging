


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fr-FR" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fr-FR" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Protocole d’accréditation &mdash; Documentation Qiskit 0.30.1</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!-- <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" /> -->
  <link rel="stylesheet" href="../../_static/jupyter-sphinx.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/thebelab.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme-override.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/gallery.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/panels-variables.ade9f9d55df9d2893fc676ecd59723a1.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Rechercher" href="../../search.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<div class="container-fluid header-holder tutorials-header" id="header-holder">
  <div class="container">
    <div class="header-container">
      <a class="header-logo" href="https://qiskit.org/" aria-label="PyTorch"></a>

      <div class="main-menu">
        <ul>
          <li>
            <a href="../../getting_started.html">Getting started</a>
          </li>

          <li>
            <a href="../../tutorials.html">Tutorials</a>
          </li>

          <li>
            <a href="https://qiskit.org/documentation/partners/" target="_blank">Partners</a>
          </li>

          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="resource-option with-down-orange-arrow">
                Applications
              </a>
              <div class="resources-dropdown-menu">
                <a class="nav-dropdown-item" href="https://qiskit.org/documentation/machine-learning/">
                  <span class="dropdown-title">Machine learning</span>
                  <p>QSVM, VQC (Variational Quantum Classifier), and QGAN (Quantum Generative
                    Adversarial Network) algorithms.</p>
                </a>
                <a class="nav-dropdown-item" href="https://qiskit.org/documentation/nature/">
                  <span class="dropdown-title">Nature</span>
                  <p>Quantum applications in chemistry, physics, and biology.</p>
                </a>
                <a class="nav-dropdown-item" href="https://qiskit.org/documentation/finance/">
                  <span class="dropdown-title">Finance</span>
                  <p>Uncertainty components for stock/securities problems, Ising translators for
                    portfolio optimizations and data providers to source real or random data.</p>
                </a>
                <a class="nav-dropdown-item" href="https://qiskit.org/documentation/optimization/">
                  <span class="dropdown-title">Optimization</span>
                  <p>High-level optimization problems that are ready to
                    run on simulators and real quantum devices</p>
                </a>
              </div>
          </li>
          <li>
              <a href=="https://qiskit.org/documentation/experiments/" target="_blank">Experiments</a>
          </li>
          <li>
            <div id="resourcesDropdownButton" data-toggle="resources-dropdown" class="resources-dropdown">
              <a class="resource-option with-down-orange-arrow">
                Resources
              </a>
              <div class="resources-dropdown-menu">
                <a class="doc-dropdown-option nav-dropdown-item" href="https://qiskit.slack.com">
                  <span class="dropdown-title">Slack support</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://qiskit.org/textbook">
                  <span class="dropdown-title">Qiskit Textbook</span>
                  <p></p>
                </a>
                <a class="doc-dropdown-option nav-dropdown-item" href="https://qiskit.org/events">
                  <span class="dropdown-title">Qiskit events</span>
                  <p></p>
                </a>
            </div>
          </li>
          <li>
            <a href="https://github.com/Qiskit/" target="_blank">Github</a>
          </li>
        </ul>
      </div>

      <a class="main-menu-open-button" href="#" data-behavior="open-mobile-menu"></a>
    </div>

  </div>
</div>


<body class="pytorch-body">

   

    

    <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="rst-current-version-label">French</span>
    <span class="rst-versions-dropdown-icon"></span>
  </span>
  <div class="rst-other-versions">
    
    <dl>
      <dt>Langues</dt>
      
        <dd><a class="version" href="/documentation/tutorials/noise/7_accreditation.html">English</a></dd>
      
        <dd><a class="version" href="/documentation/locale/ja_JP/tutorials/noise/7_accreditation.html">Japanese</a></dd>
      
        <dd><a class="version" href="/documentation/locale/de_DE/tutorials/noise/7_accreditation.html">German</a></dd>
      
        <dd><a class="version" href="/documentation/locale/ko_KR/tutorials/noise/7_accreditation.html">Korean</a></dd>
      
        <dd><a class="version" href="/documentation/locale/pt_BR/tutorials/noise/7_accreditation.html">Portuguese, Brazilian</a></dd>
      
        <dd><a class="version" href="/documentation/locale/fr_FR/tutorials/noise/7_accreditation.html">French</a></dd>
      
        <dd><a class="version" href="/documentation/locale/ta_IN/tutorials/noise/7_accreditation.html">Tamil</a></dd>
      
    </dl>
    
    <dl>
      <dt>Previous Releases</dt>
      
        <dd><a class="version" href="/documentation/stable/0.19/index.html">0.19</a></dd>
      
        <dd><a class="version" href="/documentation/stable/0.24/index.html">0.24</a></dd>
      
        <dd><a class="version" href="/documentation/stable/0.25/index.html">0.25</a></dd>
      
        <dd><a class="version" href="/documentation/stable/0.26/index.html">0.26</a></dd>
      
        <dd><a class="version" href="/documentation/stable/0.27/index.html">0.27</a></dd>
      
        <dd><a class="version" href="/documentation/stable/0.28/index.html">0.28</a></dd>
      
        <dd><a class="version" href="/documentation/stable/0.29/index.html">0.29</a></dd>
      
    </dl>
  </div>
  <script>
    jQuery('.version').click((evt) => {
      const hash = window.location.hash
      const complete_url = evt.target.href + hash
      window.location = complete_url
      evt.preventDefault()
    })
  </script>
</div>

    <div class="table-of-contents-link-wrapper">
      <span>Table of Contents</span>
      <a href="#" class="toggle-table-of-contents" data-behavior="toggle-table-of-contents"></a>
    </div>

    <nav data-toggle="wy-nav-shift" class="pytorch-left-menu" id="pytorch-left-menu">
      <div class="pytorch-side-scroll">
        <div class="pytorch-menu pytorch-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          <div class="pytorch-left-menu-search">
            

            
              
              
            

            


  


<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

            
          </div>

          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Documentation Homepage</a></li>
</ul>
<p><span class="caption-text">Avant propos</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../qc_intro.html">L’informatique quantique en bref</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro_tutorial1.html">Introduction à Qiskit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing_to_qiskit.html">Contribuer à Qiskit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration.html">Configuration locale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Foire aux Questions</a></li>
</ul>
<p><span class="caption-text">Bibliothèques</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../apidoc/circuit_library.html">Bibliothèque de circuits</a></li>
</ul>
<p><span class="caption-text">Références de l'API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../apidoc/terra.html">Qiskit Terra</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apidoc/aer.html">Qiskit Aer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apidoc/ignis.html">Qiskit Ignis (deprecated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apidoc/aqua.html">Qiskit Aqua (deprecated)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../apidoc/ibmq-provider.html">Qiskit IBM Quantum Provider</a></li>
</ul>
<p><span class="caption-text">Qiskit Aqua Migration Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../aqua_migration.html">Qiskit Aqua Migration Guide</a></li>
</ul>
<p><span class="caption-text">Déboggage</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://quantum-computing.ibm.com/lab/docs/iql/manage/errors">Codes d'erreur de l'API IBM Quantum</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <div class="pytorch-container">
      <div class="pytorch-page-level-bar" id="pytorch-page-level-bar">
        <div class="pytorch-breadcrumbs-wrapper">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="pytorch-breadcrumbs">
    
      <li>
        <a href="../../index.html">
          
            Docs
          
        </a> &gt;
      </li>

        
      <li>Protocole d’accréditation</li>
    
    
      <li class="pytorch-breadcrumbs-aside">
        
            
            <a href="../../_sources/tutorials/noise/7_accreditation.ipynb" rel="nofollow"><img src="../../_static/images/view-page-source-icon.svg"></a>
          
        
      </li>
    
  </ul>

  
</div>
        </div>

        <div class="pytorch-shortcuts-wrapper" id="pytorch-shortcuts-wrapper">
          Shortcuts
        </div>
      </div>

      <section data-toggle="wy-nav-shift" id="pytorch-content-wrap" class="pytorch-content-wrap">
        <div class="pytorch-content-left">
          
          <div class="rst-content style-external-links">
          
            <div role="main" class="main-content" itemscope="itemscope" itemtype="http://schema.org/Article">
             <article itemprop="articleBody" id="pytorch-article" class="pytorch-article">
              
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Cette page a été générée à partir de <a class="reference external" href="https://github.com/Qiskit/qiskit-tutorials/blob/master/tutorials/noise/7_accreditation.ipynb">tutorials/noise/7_accreditation.ipynb</a>.</p>
</div>
<section id="Protocole-d'accréditation">
<h1>Protocole d’accréditation<a class="headerlink" href="#Protocole-d'accréditation" title="Lien permanent vers ce titre">¶</a></h1>
<p>Le protocole d’accréditation (AP) est un protocole conçu pour caractériser la fiabilité des machines quantiques bruitées.</p>
<p>Etant donné un ordinateur quantique bruité mettant en œuvre un circuit quantique « cible », AP (Protocole d’Accréditation) certifie une borne supérieure sur l’amplitude de la variation entre la distribution de probabilité des sorties retournées par le dispositif et la distribution de probabilité idéale. Cette méthode est basée sur Ferracin et al, « Accreditting outputs of noisy intermédiaire-scale quantum devices », <a class="reference external" href="https://arxiv.org/abs/1811.09709">https://arxiv.org/abs/1811.09709</a>.</p>
<p>Ce bloc-notes donne un exemple d’utilisation du module ignis.characterization.accréditation. Cet exemple particulier montre comment accréditer les sorties d’un circuit quantique 4-qubit de profondeur 5. Tous les circuits sont exécutés à l’aide du simulateur d’Aer en utilisant un modèle de bruit.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1">#Import general libraries (needed for functions)</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">random</span>
<span class="kn">import</span> <span class="nn">qiskit</span>

<span class="c1">#Import Qiskit classes</span>
<span class="kn">from</span> <span class="nn">qiskit</span> <span class="kn">import</span> <span class="n">QuantumCircuit</span><span class="p">,</span> <span class="n">QuantumRegister</span><span class="p">,</span> <span class="n">ClassicalRegister</span><span class="p">,</span> <span class="n">Aer</span><span class="p">,</span> <span class="n">execute</span>
<span class="kn">from</span> <span class="nn">qiskit.providers.aer.noise</span> <span class="kn">import</span> <span class="n">NoiseModel</span>
<span class="kn">from</span> <span class="nn">qiskit.providers.aer.noise.errors.standard_errors</span> <span class="kn">import</span> <span class="n">depolarizing_error</span>

<span class="c1">#Import the accreditation functions.</span>
<span class="kn">from</span> <span class="nn">qiskit.ignis.verification.accreditation</span> <span class="kn">import</span> <span class="n">AccreditationFitter</span><span class="p">,</span><span class="n">AccreditationCircuits</span>

</pre></div>
</div>
</div>
<section id="Entrée-du-protocole">
<h2>Entrée du protocole<a class="headerlink" href="#Entrée-du-protocole" title="Lien permanent vers ce titre">¶</a></h2>
<p>AP peut accréditer les sorties d’un <strong>circuit cible* * qui 1) Admet :math:`n` qubits en entrée dans l’état :math:`|{0}&gt;`2) Se termine avec des mesures à un seul qubit dans la base de Pauli-:math:`Z` 3) Est faite de :math:`m` « bandes », chacune contenant une série de portes a un seul qubit et une série de portes controlled-:math:`Z`. L’accréditation est faite en utilisant des **trap circuits</strong>, qui peuvent être simulés efficacement sur un ordinateur classique et dont les sorties sont utilisées pour vérifier la fonctionnalité correcte de l’appareil.</p>
<p>Voyons maintenant un circuit quantique cible ! Nous commençons par un circuit simple pour générer et mesurer des états GHZ de 4-qubits.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Create a Quantum Register with n_qb qubits.</span>
<span class="n">q_reg</span> <span class="o">=</span> <span class="n">QuantumRegister</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;q&#39;</span><span class="p">)</span>
<span class="c1"># Create a Classical Register with n_qb bits.</span>
<span class="n">c_reg</span> <span class="o">=</span> <span class="n">ClassicalRegister</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">)</span>
<span class="c1"># Create a Quantum Circuit acting on the q register</span>
<span class="n">target_circuit</span> <span class="o">=</span> <span class="n">QuantumCircuit</span><span class="p">(</span><span class="n">q_reg</span><span class="p">,</span> <span class="n">c_reg</span><span class="p">)</span>

<span class="n">target_circuit</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">target_circuit</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">target_circuit</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">target_circuit</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">target_circuit</span><span class="o">.</span><span class="n">cz</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">target_circuit</span><span class="o">.</span><span class="n">cz</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">target_circuit</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">target_circuit</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">target_circuit</span><span class="o">.</span><span class="n">cz</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="n">target_circuit</span><span class="o">.</span><span class="n">cz</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">target_circuit</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">target_circuit</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">target_circuit</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>

<span class="n">target_circuit</span><span class="o">.</span><span class="n">measure</span><span class="p">(</span><span class="n">q_reg</span><span class="p">,</span> <span class="n">c_reg</span><span class="p">)</span>

<span class="n">target_circuit</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">output</span> <span class="o">=</span> <span class="s1">&#39;mpl&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/tutorials_noise_7_accreditation_5_0.png" src="../../_images/tutorials_noise_7_accreditation_5_0.png" />
</div>
</div>
</section>
<section id="Génération-de-circuits-d'accréditation">
<h2>Génération de circuits d’accréditation<a class="headerlink" href="#Génération-de-circuits-d'accréditation" title="Lien permanent vers ce titre">¶</a></h2>
<p>La fonction <span class="math notranslate nohighlight">\(accreditation\_circuits\)</span> génère tous les circuits nécessaires à l’AP, cible et pièges. Il ajoute automatiquement les portes de Pauli aléatoires aux circuits (si l’implémentation est bruyante, ces portes Pauli aléatoires réduisent le bruit aux erreurs de Pauli !)</p>
<p>Il renvoie également la liste :math:` postp_list ` des chaînes requises pour le post-traitement des sorties, ainsi que le nombre <span class="math notranslate nohighlight">\(v\_zero\)</span> indiquant le circuit d’exécution de la cible.</p>
<p>Ceci est le circuit cible avec les portes Pauli choisies aléatoirement:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">accsys</span> <span class="o">=</span> <span class="n">AccreditationCircuits</span><span class="p">(</span><span class="n">target_circuit</span><span class="p">)</span>

<span class="n">v</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">circ_list</span><span class="p">,</span> <span class="n">postp_list</span><span class="p">,</span> <span class="n">v_zero</span> <span class="o">=</span> <span class="n">accsys</span><span class="o">.</span><span class="n">generate_circuits</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="n">circ_list</span><span class="p">[(</span><span class="n">v_zero</span><span class="p">)</span><span class="o">%</span><span class="p">(</span><span class="n">v</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">output</span> <span class="o">=</span> <span class="s1">&#39;mpl&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/tutorials_noise_7_accreditation_8_0.png" src="../../_images/tutorials_noise_7_accreditation_8_0.png" />
</div>
</div>
<p>Voici à quoi ressemble un « trap circuit » :</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">circ_list</span><span class="p">[(</span><span class="n">v_zero</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">%</span><span class="p">(</span><span class="n">v</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">output</span> <span class="o">=</span> <span class="s1">&#39;mpl&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/tutorials_noise_7_accreditation_10_0.png" src="../../_images/tutorials_noise_7_accreditation_10_0.png" />
</div>
</div>
<p>On peut utiliser l’argument optionnel twoqubitgate pour choisir entre l’utilisation de portes cx au lieu de portes cz, on peut aussi changer arbitrairement la carte de couplage, afin de compiler conformément à la topologie de l’appareil désiré (ce qui, dans ce cas, peut conduire à augmenter le nombre de couches).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">accsys</span><span class="o">.</span><span class="n">target_circuit</span><span class="p">(</span><span class="n">target_circuit</span><span class="p">,</span> <span class="n">two_qubit_gate</span><span class="o">=</span><span class="s1">&#39;cx&#39;</span><span class="p">,</span> <span class="n">coupling_map</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span> <span class="p">)</span>

<span class="n">v</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">circ_list</span><span class="p">,</span> <span class="n">postp_list</span><span class="p">,</span> <span class="n">v_zero</span> <span class="o">=</span> <span class="n">accsys</span><span class="o">.</span><span class="n">generate_circuits</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="n">circ_list</span><span class="p">[(</span><span class="n">v_zero</span><span class="p">)</span><span class="o">%</span><span class="p">(</span><span class="n">v</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">output</span> <span class="o">=</span> <span class="s1">&#39;mpl&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../../_images/tutorials_noise_7_accreditation_12_0.png" src="../../_images/tutorials_noise_7_accreditation_12_0.png" />
</div>
</div>
</section>
<section id="Simulation-de-circuits-idéaux">
<h2>Simulation de circuits idéaux<a class="headerlink" href="#Simulation-de-circuits-idéaux" title="Lien permanent vers ce titre">¶</a></h2>
<p>Mettons en place l’AP.</p>
<p>Nous utilisons :math:` accreditation_circuits ` pour générer des circuits cible et des circuits de trap. Ensuite, nous utilisons la fonction :math:` single_protocol_run ` pour implémenter tous ces circuits, en gardant la sortie de la cible uniquement si tous les trap renvoient la sortie correcte.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">simulator</span> <span class="o">=</span> <span class="n">qiskit</span><span class="o">.</span><span class="n">Aer</span><span class="o">.</span><span class="n">get_backend</span><span class="p">(</span><span class="s1">&#39;qasm_simulator&#39;</span><span class="p">)</span>

<span class="n">test_1</span> <span class="o">=</span> <span class="n">AccreditationFitter</span><span class="p">()</span>

<span class="c1"># Create target and trap circuits with random Pauli gates</span>
<span class="n">accsys</span> <span class="o">=</span> <span class="n">AccreditationCircuits</span><span class="p">(</span><span class="n">target_circuit</span><span class="p">)</span>
<span class="n">circuit_list</span><span class="p">,</span> <span class="n">postp_list</span><span class="p">,</span> <span class="n">v_zero</span> <span class="o">=</span> <span class="n">accsys</span><span class="o">.</span><span class="n">generate_circuits</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>


<span class="n">job</span> <span class="o">=</span> <span class="n">execute</span><span class="p">(</span><span class="n">circuit_list</span><span class="p">,</span>
              <span class="n">simulator</span><span class="p">,</span>
              <span class="n">shots</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
<span class="c1"># Post-process the outputs and see if the protocol accepts</span>
<span class="n">test_1</span><span class="o">.</span><span class="n">single_protocol_run</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">postp_list</span><span class="p">,</span> <span class="n">v_zero</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Outputs of the target: &quot;</span><span class="p">,</span><span class="n">test_1</span><span class="o">.</span><span class="n">outputs</span><span class="p">,</span><span class="s2">&quot; , AP&quot;</span><span class="p">,</span><span class="n">test_1</span><span class="o">.</span><span class="n">flag</span><span class="p">,</span><span class="s2">&quot;these outputs!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Outputs of the target:  [&#39;0100&#39;]  , AP accepted these outputs!
</pre></div></div>
</div>
<p>En l’absence de bruit, tous les trap renvoient la sortie attendue, donc nous acceptons toujours la sortie de la cible.</p>
<p>Pour obtenir une borne supérieure sur l’amplitude de la variation sur les sorties du circuit cible, nous devons implémenter l’AP <span class="math notranslate nohighlight">\(d\)</span> fois, chaque fois avec <strong>v</strong> circuits de trap différents.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Number of runs</span>
<span class="n">d</span> <span class="o">=</span> <span class="mi">20</span>

<span class="n">test_2</span> <span class="o">=</span> <span class="n">AccreditationFitter</span><span class="p">()</span>

<span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>

    <span class="c1"># Create target and trap circuits with random Pauli gates</span>
    <span class="n">circuit_list</span><span class="p">,</span> <span class="n">postp_list</span><span class="p">,</span> <span class="n">v_zero</span> <span class="o">=</span> <span class="n">accsys</span><span class="o">.</span><span class="n">generate_circuits</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>


    <span class="c1"># Implement all these circuits</span>

    <span class="n">job</span> <span class="o">=</span> <span class="n">execute</span><span class="p">(</span><span class="n">circuit_list</span><span class="p">,</span>
                  <span class="n">simulator</span><span class="p">,</span>
                  <span class="n">shots</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>

    <span class="c1"># Post-process the outputs and see if the protocol accepts</span>
    <span class="n">test_2</span><span class="o">.</span><span class="n">single_protocol_run</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">postp_list</span><span class="p">,</span> <span class="n">v_zero</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Protocol run number&quot;</span><span class="p">,</span><span class="n">run</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;, outputs of the target&quot;</span><span class="p">,</span><span class="n">test_2</span><span class="o">.</span><span class="n">flag</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">After&#39;</span><span class="p">,</span><span class="n">test_2</span><span class="o">.</span><span class="n">num_runs</span><span class="p">,</span><span class="s1">&#39;runs, AP has accepted&#39;</span><span class="p">,</span><span class="n">test_2</span><span class="o">.</span><span class="n">N_acc</span><span class="p">,</span><span class="s1">&#39;outputs!&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">List of accepted outputs:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">test_2</span><span class="o">.</span><span class="n">outputs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Protocol run number 1 , outputs of the target accepted
Protocol run number 2 , outputs of the target accepted
Protocol run number 3 , outputs of the target accepted
Protocol run number 4 , outputs of the target accepted
Protocol run number 5 , outputs of the target accepted
Protocol run number 6 , outputs of the target accepted
Protocol run number 7 , outputs of the target accepted
Protocol run number 8 , outputs of the target accepted
Protocol run number 9 , outputs of the target accepted
Protocol run number 10 , outputs of the target accepted
Protocol run number 11 , outputs of the target accepted
Protocol run number 12 , outputs of the target accepted
Protocol run number 13 , outputs of the target accepted
Protocol run number 14 , outputs of the target accepted
Protocol run number 15 , outputs of the target accepted
Protocol run number 16 , outputs of the target accepted
Protocol run number 17 , outputs of the target accepted
Protocol run number 18 , outputs of the target accepted
Protocol run number 19 , outputs of the target accepted
Protocol run number 20 , outputs of the target accepted

After 20 runs, AP has accepted 20 outputs!

List of accepted outputs:
 [&#39;0100&#39;, &#39;0010&#39;, &#39;1011&#39;, &#39;1001&#39;, &#39;0110&#39;, &#39;1111&#39;, &#39;1101&#39;, &#39;0000&#39;, &#39;1101&#39;, &#39;0000&#39;, &#39;0110&#39;, &#39;1011&#39;, &#39;0110&#39;, &#39;1101&#39;, &#39;0000&#39;, &#39;0110&#39;, &#39;1101&#39;, &#39;0010&#39;, &#39;1001&#39;, &#39;1101&#39;, &#39;0000&#39;]
</pre></div></div>
</div>
<p>La fonction :math:` bound_variation_distance’calcule la limite supérieure de la distance de variation (VD) à l’aide de</p>
<div class="math notranslate nohighlight">
\[VD\leq \frac{\varepsilon}{N_{\textrm{acc}}/d-\theta}\textrm{ ,}\]</div>
<p>où <span class="math notranslate nohighlight">\(\theta\in [ 0,1 ]\)</span> est un nombre positif et</p>
<div class="math notranslate nohighlight">
\[\varepsilon= \frac{1.7}{v+1}\]</div>
<p>est la probabilité maximale d’accepter un état incorrect pour la cible. La fonction :math:` bound_variation_distance` calcule également la confiance dans la liaison en tant que</p>
<div class="math notranslate nohighlight">
\[1-2\textrm{exp}\big(-2\theta d^2\big)\]</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">theta</span> <span class="o">=</span> <span class="mi">5</span><span class="o">/</span><span class="mi">100</span>

<span class="n">test_2</span><span class="o">.</span><span class="n">bound_variation_distance</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;AP accepted&quot;</span><span class="p">,</span><span class="n">test_2</span><span class="o">.</span><span class="n">N_acc</span><span class="p">,</span><span class="s2">&quot;out of&quot;</span><span class="p">,</span><span class="n">test_2</span><span class="o">.</span><span class="n">num_runs</span><span class="p">,</span><span class="s2">&quot;times.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;With confidence&quot;</span><span class="p">,</span><span class="n">test_2</span><span class="o">.</span><span class="n">confidence</span><span class="p">,</span><span class="s2">&quot;AP certifies that VD is upper-bounded by&quot;</span><span class="p">,</span><span class="n">test_2</span><span class="o">.</span><span class="n">bound</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
AP accepted 20 out of 20 times.
With confidence 1.0 AP certifies that VD is upper-bounded by 0.16267942583732053
</pre></div></div>
</div>
</section>
<section id="Définition-du-modèle-de-bruit">
<h2>Définition du modèle de bruit<a class="headerlink" href="#Définition-du-modèle-de-bruit" title="Lien permanent vers ce titre">¶</a></h2>
<p>Nous définissons un modèle de bruit pour le simulateur. Nous ajoutons des probabilités d’erreur de dépolarisation aux portes controlled-:math:` Z ` et au portes à un seul qubit.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">noise_model</span> <span class="o">=</span> <span class="n">NoiseModel</span><span class="p">()</span>

<span class="n">p1q</span> <span class="o">=</span> <span class="mf">0.003</span>
<span class="n">noise_model</span><span class="o">.</span><span class="n">add_all_qubit_quantum_error</span><span class="p">(</span><span class="n">depolarizing_error</span><span class="p">(</span><span class="n">p1q</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;u1&#39;</span><span class="p">)</span>
<span class="n">noise_model</span><span class="o">.</span><span class="n">add_all_qubit_quantum_error</span><span class="p">(</span><span class="n">depolarizing_error</span><span class="p">(</span><span class="n">p1q</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;u2&#39;</span><span class="p">)</span>
<span class="n">noise_model</span><span class="o">.</span><span class="n">add_all_qubit_quantum_error</span><span class="p">(</span><span class="n">depolarizing_error</span><span class="p">(</span><span class="n">p1q</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;u3&#39;</span><span class="p">)</span>
<span class="n">p2q</span> <span class="o">=</span> <span class="mf">0.03</span>
<span class="n">noise_model</span><span class="o">.</span><span class="n">add_all_qubit_quantum_error</span><span class="p">(</span><span class="n">depolarizing_error</span><span class="p">(</span><span class="n">p2q</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;cx&#39;</span><span class="p">)</span>

<span class="n">basis_gates</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;u1&#39;</span><span class="p">,</span><span class="s1">&#39;u2&#39;</span><span class="p">,</span><span class="s1">&#39;u3&#39;</span><span class="p">,</span><span class="s1">&#39;cx&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<p>Nous mettons ensuite en place des circuits bruités et transmettons leurs résultats à :math:` single_protocol_run <a href="#id1"><span class="problematic" id="id2">`</span></a>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">test_3</span> <span class="o">=</span> <span class="n">AccreditationFitter</span><span class="p">()</span>

<span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>

    <span class="c1"># Create target and trap circuits with random Pauli gates</span>
    <span class="n">circuit_list</span><span class="p">,</span> <span class="n">postp_list</span><span class="p">,</span> <span class="n">v_zero</span> <span class="o">=</span> <span class="n">accsys</span><span class="o">.</span><span class="n">generate_circuits</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
    <span class="n">job</span> <span class="o">=</span> <span class="n">execute</span><span class="p">(</span><span class="n">circuit_list</span><span class="p">,</span>
                  <span class="n">simulator</span><span class="p">,</span>
                  <span class="n">noise_model</span><span class="o">=</span><span class="n">noise_model</span><span class="p">,</span>
                  <span class="n">basis_gates</span><span class="o">=</span><span class="n">basis_gates</span><span class="p">,</span>
                  <span class="n">shots</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                  <span class="n">backend_options</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;max_parallel_experiments&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">})</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>
    <span class="c1"># Post-process the outputs and see if the protocol accepts</span>
    <span class="n">test_3</span><span class="o">.</span><span class="n">single_protocol_run</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">postp_list</span><span class="p">,</span> <span class="n">v_zero</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Protocol run number&quot;</span><span class="p">,</span><span class="n">run</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;, outputs of the target&quot;</span><span class="p">,</span><span class="n">test_3</span><span class="o">.</span><span class="n">flag</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">AP accepted&quot;</span><span class="p">,</span><span class="n">test_3</span><span class="o">.</span><span class="n">N_acc</span><span class="p">,</span><span class="s2">&quot;out of&quot;</span><span class="p">,</span><span class="n">test_3</span><span class="o">.</span><span class="n">num_runs</span><span class="p">,</span><span class="s2">&quot;times.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">List of accepted outputs:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">test_3</span><span class="o">.</span><span class="n">outputs</span><span class="p">)</span>

<span class="n">theta</span> <span class="o">=</span> <span class="mi">5</span><span class="o">/</span><span class="mi">100</span>

<span class="n">test_3</span><span class="o">.</span><span class="n">bound_variation_distance</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">With confidence&quot;</span><span class="p">,</span><span class="n">test_3</span><span class="o">.</span><span class="n">confidence</span><span class="p">,</span><span class="s2">&quot;AP certifies that VD is upper-bounded by&quot;</span><span class="p">,</span><span class="n">test_3</span><span class="o">.</span><span class="n">bound</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Protocol run number 1 , outputs of the target rejected
Protocol run number 2 , outputs of the target rejected
Protocol run number 3 , outputs of the target rejected
Protocol run number 4 , outputs of the target rejected
Protocol run number 5 , outputs of the target rejected
Protocol run number 6 , outputs of the target rejected
Protocol run number 7 , outputs of the target accepted
Protocol run number 8 , outputs of the target rejected
Protocol run number 9 , outputs of the target accepted
Protocol run number 10 , outputs of the target rejected
Protocol run number 11 , outputs of the target rejected
Protocol run number 12 , outputs of the target rejected
Protocol run number 13 , outputs of the target accepted
Protocol run number 14 , outputs of the target rejected
Protocol run number 15 , outputs of the target rejected
Protocol run number 16 , outputs of the target rejected
Protocol run number 17 , outputs of the target rejected
Protocol run number 18 , outputs of the target accepted
Protocol run number 19 , outputs of the target rejected
Protocol run number 20 , outputs of the target rejected

AP accepted 4 out of 20 times.

List of accepted outputs:
 [&#39;0100&#39;, &#39;0010&#39;, &#39;1011&#39;, &#39;1001&#39;, &#39;0110&#39;, &#39;1111&#39;, &#39;1101&#39;, &#39;0000&#39;, &#39;1101&#39;, &#39;0000&#39;, &#39;0110&#39;, &#39;1011&#39;, &#39;0110&#39;, &#39;1101&#39;, &#39;0000&#39;, &#39;0110&#39;, &#39;1101&#39;, &#39;0010&#39;, &#39;1001&#39;, &#39;1101&#39;, &#39;0000&#39;, &#39;0100&#39;, &#39;0110&#39;, &#39;1111&#39;, &#39;0100&#39;]

With confidence 1.0 AP certifies that VD is upper-bounded by 1
</pre></div></div>
</div>
<p>Changer le nombre de circuits d’alerte par protocole d’exécution change la limite supérieure de la VD, mais pas la confiance.</p>
<p>Quel est le nombre de circuits de trap qui assureront la limite supérieure minimale pour votre circuit cible?</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">min_traps</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">max_traps</span> <span class="o">=</span> <span class="mi">10</span>


<span class="k">for</span> <span class="n">num_trap_circs</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">min_traps</span><span class="p">,</span><span class="n">max_traps</span><span class="p">):</span>

    <span class="n">test_4</span> <span class="o">=</span> <span class="n">AccreditationFitter</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">d</span><span class="p">):</span>

        <span class="c1"># Create target and trap circuits with random Pauli gates</span>
        <span class="n">circuit_list</span><span class="p">,</span> <span class="n">postp_list</span><span class="p">,</span> <span class="n">v_zero</span> <span class="o">=</span> <span class="n">accsys</span><span class="o">.</span><span class="n">generate_circuits</span><span class="p">(</span><span class="n">num_trap_circs</span><span class="p">)</span>

        <span class="n">job</span> <span class="o">=</span> <span class="n">execute</span><span class="p">(</span><span class="n">circuit_list</span><span class="p">,</span>
                      <span class="n">simulator</span><span class="p">,</span>
                      <span class="n">noise_model</span><span class="o">=</span><span class="n">noise_model</span><span class="p">,</span>
                      <span class="n">basis_gates</span><span class="o">=</span><span class="n">basis_gates</span><span class="p">,</span>
                      <span class="n">shots</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                      <span class="n">backend_options</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;max_parallel_experiments&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">})</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">result</span><span class="p">()</span>

        <span class="c1"># Post-process the outputs and see if the protocol accepts</span>
        <span class="n">test_4</span><span class="o">.</span><span class="n">single_protocol_run</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">postp_list</span><span class="p">,</span> <span class="n">v_zero</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">With&quot;</span><span class="p">,</span> <span class="n">num_trap_circs</span><span class="p">,</span>
          <span class="s2">&quot;traps, AP accepted&quot;</span><span class="p">,</span> <span class="n">test_4</span><span class="o">.</span><span class="n">N_acc</span><span class="p">,</span>
          <span class="s2">&quot;out of&quot;</span><span class="p">,</span> <span class="n">test_4</span><span class="o">.</span><span class="n">num_runs</span><span class="p">,</span> <span class="s2">&quot;times.&quot;</span><span class="p">)</span>
    <span class="n">test_4</span><span class="o">.</span><span class="n">bound_variation_distance</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;With confidence&quot;</span><span class="p">,</span> <span class="n">test_4</span><span class="o">.</span><span class="n">confidence</span><span class="p">,</span>
          <span class="s2">&quot;AP with&quot;</span><span class="p">,</span> <span class="n">num_trap_circs</span><span class="p">,</span>
          <span class="s2">&quot;traps certifies that VD is upper-bounded by&quot;</span><span class="p">,</span> <span class="n">test_4</span><span class="o">.</span><span class="n">bound</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>

With 4 traps, AP accepted 16 out of 20 times.
With confidence 1.0 AP with 4 traps certifies that VD is upper-bounded by 0.45333333333333337

With 5 traps, AP accepted 7 out of 20 times.
With confidence 1.0 AP with 5 traps certifies that VD is upper-bounded by 0.9444444444444444

With 6 traps, AP accepted 11 out of 20 times.
With confidence 1.0 AP with 6 traps certifies that VD is upper-bounded by 0.48571428571428577

With 7 traps, AP accepted 9 out of 20 times.
With confidence 1.0 AP with 7 traps certifies that VD is upper-bounded by 0.53125

With 8 traps, AP accepted 7 out of 20 times.
With confidence 1.0 AP with 8 traps certifies that VD is upper-bounded by 0.6296296296296298

With 9 traps, AP accepted 11 out of 20 times.
With confidence 1.0 AP with 9 traps certifies that VD is upper-bounded by 0.33999999999999986
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</section>
</section>


             </article>
             
            </div>
            <footer>
  

  

    <hr>

  

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Qiskit Development Team.
      Mis à jour le 2021/10/02.

    </p>
  </div>
    
      <div>
        Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
      </div>
     

</footer>

          </div>
        </div>

        <div class="pytorch-content-right" id="pytorch-content-right">
          <div class="pytorch-right-menu" id="pytorch-right-menu">
            <div class="pytorch-side-scroll" id="pytorch-side-scroll-right">
              <ul>
<li><a class="reference internal" href="#">Protocole d’accréditation</a><ul>
<li><a class="reference internal" href="#Entrée-du-protocole">Entrée du protocole</a></li>
<li><a class="reference internal" href="#Génération-de-circuits-d'accréditation">Génération de circuits d’accréditation</a></li>
<li><a class="reference internal" href="#Simulation-de-circuits-idéaux">Simulation de circuits idéaux</a></li>
<li><a class="reference internal" href="#Définition-du-modèle-de-bruit">Définition du modèle de bruit</a></li>
</ul>
</li>
</ul>

            </div>
          </div>
        </div>
      </section>
    </div>

  

     
       <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
         <script src="../../_static/jquery.js"></script>
         <script src="../../_static/underscore.js"></script>
         <script src="../../_static/doctools.js"></script>
         <script src="../../_static/language_data.js"></script>
         <script src="../../_static/thebelab-helper.js"></script>
         <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
         <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
         <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
         <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
         <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "tex2jax_ignore|mathjax_ignore|document", "processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
     

  

  <script type="text/javascript" src="../../_static/js/vendor/popper.min.js"></script>
  <script type="text/javascript" src="../../_static/js/vendor/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/1.5.0/list.min.js"></script>
  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

  <div>
    <br>
  </div>

  <!-- Begin Mobile Menu -->

  <div class="mobile-main-menu">
    <div class="container-fluid">
      <div class="container">
        <div class="mobile-main-menu-header-container">
          <a class="header-logo" href="https://qiskit.org/" aria-label="PyTorch"></a>
          <a class="main-menu-close-button" href="#" data-behavior="close-mobile-menu"></a>
        </div>
      </div>
    </div>

    <div class="mobile-main-menu-links-container">
      <div class="main-menu">
        <ul>
          <li>
            <a href="../../getting_started.html">Getting Started</a>
          </li>
          <li>
            <a href="../../tutorials.html">Tutorials</a>
          </li>
          <li>
            <a href="https://qiskit.org/documentation/partners/">Partners</a>
          </li>
          <br>
          <li class="resources-mobile-menu-title">
            Applications
          </li>
          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://qiskit.org/documentation/machine-learning/">Machine learning</a>
            </li>

            <li>
              <a href="https://qiskit.org/documentation/nature/">Nature</a>
            </li>

            <li>
              <a href="https://qiskit.org/documentation/finance/">Finance</a>
            </li>

            <li>
              <a href="https://qiskit.org/documentation/optimization/">Optimization</a>
            </li>
          </ul>
          <br>
          <li>
            <a href="https://qiskit.org/documentation/experiments/">Experiments</a>
          </li>
          <br>
          <li class="resources-mobile-menu-title">
            Resources
          </li>

          <ul class="resources-mobile-menu-items">
            <li>
              <a href="https://qiskit.slack.com">Slack support</a>
            </li>
          </ul>
          <br>
        </ul>
      </div>
    </div>
  </div>

  <!-- End Mobile Menu -->

  <script type="text/javascript" src="../../_static/js/vendor/anchor.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      mobileMenu.bind();
      mobileTOC.bind();
      pytorchAnchors.bind();
      sideMenus.bind();
      scrollToAnchor.bind();
      highlightNavigation.bind();
      mainMenuDropdown.bind();
      filterTags.bind();

      // Add class to links that have code blocks, since we cannot create links in code blocks
      $("article.pytorch-article a span.pre").each(function(e) {
        $(this).closest("a").addClass("has-code");
      });
    })
  </script>
</body>
</html>